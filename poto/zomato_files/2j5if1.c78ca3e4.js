(this.$WP=this.$WP||[]).push(["2j5if1",(e,t)=>{"use strict";var i,l,n,a,r,o,u,s,d,c,m,g,p,h,f,v,I,_,T,y,N,A,R,E,D,O,w,S,b,W,C,z=e=>{var t,n,a,d,{description:c,photo:m,route:g,sponsorName:p,title:h,articleId:f,authors:D,locationType:O}=e.article,w=A(),S=N(),b=i(),{localize:W}=T(),{page:C}=l(),z=C===u||C===s,U=W.string("ad_related_stories_feature_in_content_widget"),x=W.string("sponsored_story_content_widget"),M=W.string("as_feature_in_content_widget"),q=null!=D&&null!=(t=D[0])&&null!=(n=t.author)&&n.name?null==D||null==(a=D[0])||null==(d=a.author)?void 0:d.name:void 0,L=p?"from":"by",P=p||void 0,V=y((()=>{S({itemType:r,itemGroup:"SingleArticle",itemName:p,itemId:`${f}`,customData:JSON.stringify({locationType:O,route:g}),team:"TAPS",page:C,pageUid:b})})),F=I((()=>{w({itemType:r,itemGroup:"SingleArticle",itemId:`${f}`,itemName:p,customData:JSON.stringify({locationType:O,route:g}),page:C,team:"TAPS",actionType:"click",pageUid:b})}),[f,w,O,C,b,g,p]);if(null===m)return null;var G=E("div",{className:v({"zeMXO o":z}),children:c});return E("section",{ref:V,className:v("fyOpZ Mg Nb MF NC",{EqfKm:z}),children:E(_,{href:g,display:"block",theme:"none",target:o,onClick:()=>F(),children:E(R,{headerTitle:e.article.sponsorName?x:"as-featured-in"===e.titleOption?M:U,headerUrl:g,image:m,href:g,target:o,authorTarget:o,authorVariant:L,authorName:z?void 0:P||q,title:h,snippet:G})})})},U=e=>{var{articles:t}=e,{localize:n}=T(),{page:a}=l(),o=i(),u=N(),s=a===c||a===m,h=a===g||a===p,f=a===p,I=a===c,_=y((()=>{u({itemType:r,itemGroup:"MultipleArticles",itemId:`${e.locationId}`,page:a,team:"TAPS",pageUid:o})}));return D("section",{ref:_,className:v("MIrqC Gi",{Emfdu:s,NxaVD:h,WlGzA:f}),children:[E("div",{className:v("eaQSM E",{KEiyD:f}),children:E(O,{variant:"title-02",color:"primaryText",children:n.string("ad_related_stories_feature_in_content_widget")})}),E("div",{className:v("NeZCO _h A",{vimTh:f,rMelW:I}),children:t.map(((e,t)=>E("div",{className:v("yVyfR",{YvpmX:0===t,lYDNx:1===t,ggzcD:2===t}),children:E(d,{article:e,widgetType:"as-featured-in"})},e.articleId)))})]})},x={__key:0x62fc952342c6,id:"62fc952342c67268b0b0c325bdce1396",loc:{},definitions:[]},M=e=>{var t=[],i=e.filter((e=>e.sponsorName));if(i.length>=3&&(t=i),i.length<3){var l=e.filter((e=>!e.sponsorName));t=[...i,...l]}return t.length>3?t.slice(0,3):t},q=(e,t,i)=>{var l=!e&&!t||!i,[{data:n,fetching:a}]=w({query:x,variables:{detailId:e,geoId:t},pause:l||!1}),r=(e=>{var t,i,l,n,a=[],r=(e,t)=>{e.forEach((e=>{var i;if(null!=e&&e.document&&null!=(null==e||null==(i=e.document)?void 0:i.content)){var l,n,r,{content:o,route:u,title:s,estimatedReadTime:d,lastUpdatedAt:c,space:m}=e.document,g={title:s,locationType:t,route:(null==u?void 0:u.url)||"",readTime:d?`${d}`:null,lastUpdatedAt:c||null,sponsorName:(null==e?void 0:e.sponsorName)||"",authors:"authors"in o&&(null==o?void 0:o.authors)||null,description:"seoInfo"in o&&(null==o||null==(l=o.seoInfo)?void 0:l.metaDescription)||"",photo:"thumbnail"in o&&(null==o||null==(n=o.thumbnail)||null==(r=n.photo)?void 0:r.photoSizeDynamic)||null,articleId:m||"1"};a.push(g)}}))};return null!=e&&null!=(t=e.RichContent_getDocumentsByLocationId)&&null!=(i=t[0])&&i.documents&&r(e.RichContent_getDocumentsByLocationId[0].documents,h),null!=e&&null!=(l=e.RichContent_getDocumentsByLocationId)&&null!=(n=l[1])&&n.documents&&r(e.RichContent_getDocumentsByLocationId[1].documents,f),a})(n);return{fetching:a,articles:M(r)}},L=["Attraction_Review","Restaurant_Review","Tourism"],P=[255060,189970,659488,298184,143028,147404],V=()=>{var{page:e,params:t}=l(),i="geoId"in t?t.geoId:null;return("Tourism"!==e||!i||!P.includes(i))&&L.includes(e)},F=({attractionReviewPositionVariant:e})=>{var{params:t,page:i}=l(),r=C(),o=n(),u=a(e),s=o||r,d=h in t&&null!=t&&t.detailId?t.detailId:0,c=f in t&&t.geoId?t.geoId:0,{fetching:g,articles:v}=W(d,c,s);return i===p&&!u||i===m&&!o||L.includes(i)&&!r||g||0===v.length?null:(null==v?void 0:v.length)<=2?E(S,{titleOption:d?"as-featured-in":"related-stories",article:v[0]}):3===(null==v?void 0:v.length)?E(b,{articles:v,locationId:d||c}):null};return[()=>{S=z,b=U,W=q,C=V,e({AsFeaturedInWidget:F,default:F})},[e=>(i=e.usePageviewUid,l=e.useRoute),e=>(n=e.useAsFeaturedInWidgetHotelReview,a=e.useAsFeaturedInWidgetAttractionReview),e=>(r=e.AFI_WIDGET,o=e.BLANK,u=e.SHOW_TOPIC,s=e.SHOW_FORUM,d=e.ArticleCard,c=e.RESTAURANT_REVIEW,m=e.HOTEL_REVIEW,g=e.TOURISM,p=e.ATTRACTION_REVIEW,h=e.DETAIL_ID,f=e.GEO_ID),e=>v=e.default,e=>I=e.useCallback,e=>_=e.default,e=>T=e.useLocalize,e=>y=e.useOnVisible,e=>N=e.default,e=>A=e.default,e=>R=e.EditorialFeatureArticleShelf,e=>(E=e.jsx,D=e.jsxs),e=>O=e.default,e=>w=e.useQuery]]},["fgwvq1","1nexzi","eozxiw","fkji80","1o4yt4","lr6tb6","17thqz","13btuy","xg719z","1r73jw","1asj0s","121h32","1essqv","1mqwhq"]]);
