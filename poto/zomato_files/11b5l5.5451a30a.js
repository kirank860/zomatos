(this.$WP=this.$WP||[]).push(["11b5l5",(e,t)=>{"use strict";var a,l,n,r,i,o,s,u,c,d,p,h,g,m,y,b,v,f,T,R,S,_,N,C,k,I,A,O,w,E,M,x,L,P,U,H,D,q,V,z,j,B,K,G,Q="qjfqs _G B- z _J Cj R0",F="riJbp _G _H B- _S t u j Cj",$="UXKdo",W=({styleVariant:e="box",overlayVariant:t="none",placeholderText:a,query:r="",displayedQuery:i="",scope:o={geoId:0},onChange:h=(()=>{}),onOpen:T,onClose:C,onKeyDown:k,onSubmit:I,onResultHovered:A,onResultClicked:O=(()=>{}),isOpen:w=!1,isLoading:E=!1,selectedIndex:M,results:x=[],header:L,headerIndex:P,searchSessionId:U="",testAttribute:H=""})=>{var{localize:D}=R(),q=f(),{os:V}=s(),z="MOBILE"===q&&"IOS"===V.family,j=l(null),B=l(null),K=null!=o&&"number"==typeof o.geoId&&o.geoId>1,G=null!=o&&"number"==typeof o.latitude&&"number"==typeof o.longitude,W=p((e=>{e||null==C||(B.current&&B.current.blur(),C())})),Z=n((e=>h(e.currentTarget.value)),[h]),J=n((()=>{h(""),B.current&&B.current.focus()}),[h]),X="MOBILE"===q&&w,Y=n((()=>{X&&B.current&&B.current.blur()}),[X]);S(X),c((()=>{var e=B.current,t=j.current;w&&null!=e&&null!=t&&e.focus()}),[w]),d("focusin",(e=>{w&&W.current instanceof Element&&e.target instanceof Element&&!W.current.contains(e.target)&&(null==C||C())})),d("keydown",(e=>{var t;e instanceof KeyboardEvent&&(w||e.target===B.current)&&(null==k||k(e),null==(t=B.current)||t.focus())}));var ee=l(null);if(c((()=>{w&&null!=ee.current&&ee.current.focus()}),[w,M]),"expanding_right"===e&&"MOBILE"===q&&!w)return _("button",{className:`${F} iZZUW`,title:D.string("common_Search"),"aria-label":D.string("common_Search"),onClick:()=>{window.scrollTo({top:0,behavior:"auto"}),null!=T&&T()},children:_(m,{})});var te=_("input",{ref:B,type:"search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",required:!0,name:"q",disabled:!w,className:u(Q,{[$]:0!==r.length}),placeholder:a,title:D.string("common_Search"),role:"searchbox","aria-label":D.string("common_Search"),"aria-controls":"typeahead_results","aria-autocomplete":"list",value:i,onChange:Z}),ae=x.map(((e,t)=>{var a;return _(b,{tabIndex:-1,role:"option","aria-selected":t===M,heading:e.title,highlightingInfo:e.highlightingInfo,subheading:e.subtitle,label:e.label,icon:e.icon,image:e.image,imageVariant:e.imageVariant,href:null!=(a=e.url)?a:"",selected:t===M,onClick:t=>{null==e.onClick||e.onClick(),O(e,t)},onMouseOver:A,ref:t===M?ee:void 0},t)}));return null!=P&&null!=L&&ae.splice(P,0,_(v,{variant:"label-01",color:"primaryText",marginX:"spacing-04",marginY:"spacing-02",id:"typeahead_results_header",children:L},"header")),N("div",{ref:j,className:u("slvrn Z0 Wh",{rsqqi:w,EcFTp:"box"===e,UfhjQ:"box_narrow"===e,PxcKL:"expanding_right"===e,MPgGB:"expanding_left"===e,zfRKL:"heroSearchNarrow"===t,GADiy:"topCentered"===t}),onTouchMove:Y,"data-test-attribute":H,children:[_("div",{className:"RIeZQ",onClick:C}),N("form",{role:"search","aria-busy":E?"true":void 0,className:"hZNMq o",action:"/Search",onInvalid:e=>e.preventDefault(),onSubmit:I,ref:W,children:[z&&_("div",{onClick:()=>{T&&T()},children:te}),!z&&_("input",{ref:B,type:"search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",required:!0,name:"q",className:u(Q,{[$]:0!==r.length}),placeholder:a,title:D.string("common_Search"),role:"searchbox","aria-label":D.string("common_Search"),"aria-controls":"typeahead_results","aria-autocomplete":"list",value:i,onChange:Z,onClick:()=>{T&&T()}}),_("input",{type:"hidden",name:"searchSessionId",value:U}),_("input",{type:"hidden",name:"searchNearby",value:String(G)}),G&&_("input",{type:"hidden",name:"latitude",value:(null==o?void 0:o.latitude)||""}),G&&_("input",{type:"hidden",name:"longitude",value:(null==o?void 0:o.longitude)||""}),K&&_("input",{type:"hidden",name:"geo",value:null==o?void 0:o.geoId}),_("button",{type:"button",className:`${F} lDGWU`,title:D.string("mobile_back_8e0"),"aria-label":D.string("mobile_back_8e0"),onClick:C,children:_(g,{})}),0!==r.length&&_("button",{type:"button",className:`${F} DhdpX`,title:D.string("mobile_search_filter_clear_26e8"),"aria-label":D.string("mobile_search_filter_clear_26e8"),onClick:J,children:_(y,{})}),_("button",{type:"submit",formAction:"/Search",className:`${F} PGlrP`,title:D.string("common_Search"),"aria-label":D.string("common_Search"),tabIndex:-1,children:E?_("svg",{className:"bRKpC",viewBox:"0 0 20 20",children:_("path",{className:"XmVyL",d:"M 10 2 A 8 8 0 1 0 18 10"})}):_(m,{})}),w&&_("div",{id:"typeahead_results",role:"listbox","aria-labelledby":"typeahead_results_header",className:"ROqMU","data-test-attribute":"typeahead-results",children:ae})]})]})},Z={__key:59392074389379,id:"36044b7f178388df8e2203ed86df5001",loc:{},definitions:[]},J={__key:0x7a84604bf8da,id:"7a84604bf8da07d67643f0d3dc37c518",loc:{},definitions:[]},X=(e,t,a=!1)=>{var l,n,r,i,o,{locationV2:s,defaultUrl:u,hotelsUrl:c,attractionOverviewURL:d,restaurantOverviewURL:p}=null!=e?e:{},{locationId:h,placeType:g,isGeo:m,names:y,vacationRentalsRoute:b}=null!=s?s:{};if(null==h||h<=1)return null;if(null!=t&&!0!==m)return null;var v=null!=(l=null!=(n=null!=(r=null!=c?c:d)?r:p)?n:null==b?void 0:b.url)?l:u;return null==v?null:{key:String(h),title:null!=(i=null==y?void 0:y.name)?i:"",subtitle:null==y?void 0:y.longOnlyHierarchyTypeaheadV2,label:a?_(T,{id:"social_mobile_reason_for_sponsored"}):void 0,searchText:null!=(o=null==y?void 0:y.name)?o:"",url:v,trackingType:a?"SPONSORED_LOCATION":"LOCATION",trackingPlaceType:g,locationId:null!=h?h:-1}},Y={__key:0xc8f09d1da793,id:"c8f09d1da7931b59aa2dcb94924c1eee",loc:{},definitions:[]},ee=({scope:e,onStopLoading:t})=>{var{localize:a}=R(),i="number"==typeof e.latitude&&"number"==typeof e.longitude,o=((e,t)=>{var{localize:a}=R(),i=C(),o=E(),s=l(!0);return r((()=>()=>{s.current=!1}),[]),n((()=>{navigator.geolocation.getCurrentPosition((({coords:{latitude:a,longitude:l}})=>{x.set("rejectedLocationPermissions",!1);var n=(()=>{switch(e){case"ATTRACTIONS":return{page:"NearbyAttractions",params:{latitude:a,longitude:l}};case"HOTELS":return{page:"NearbyHotels",params:{latitude:a,longitude:l}};case"RESTAURANTS":return{page:"NearbyRestaurants",params:{latitude:a,longitude:l}};case"VACATION_RENTALS":return{page:"NearbyVacationRentals",params:{latitude:a,longitude:l}};default:return{page:"Nearby",params:{isNearby:!0,latitude:a,longitude:l}}}})();o.query(Y,n).toPromise().then((({data:e})=>{var a,l;t();var n=null==e||null==(a=e.routes)||null==(l=a[0])?void 0:l.url;null!=n&&i(n)}),(()=>{t()}))}),(e=>{s.current&&t(),e.code!==e.PERMISSION_DENIED&&e.code!==e.TIMEOUT&&e.code!==e.POSITION_UNAVAILABLE||(x.set("rejectedLocationPermissions",!0),alert(a.string("mw_js_positionPermissionDenied")))}),{timeout:6e3})}),[a,i,o,e,t])})(e.linkType,t);return i?null:{title:a.string("mx_nearby"),searchText:a.string("mx_nearby"),icon:L,trackingType:"NEARBY",key:"NEARBY",onClick:o}},te=e=>{var t=H(),a=q(),{page:l}=I(),n=A(),{randomSponsorshipCampaign:r}=D(e),i=h((()=>{r&&a({team:"TAPS",page:l,pageUid:n,itemType:"sponsoredSearchImpression",itemId:String(r.campaignId),itemName:r.sponsorDisplayName,customData:JSON.stringify({campaignType:r.campaignType,clickUrl:r.clickUrl,sponsorId:r.sponsorId})})}));if(!r)return null;var o,{campaignId:s,sponsorId:u,sponsorDisplayName:c,clickUrl:d,campaignType:p}=r,g=124!==r.sponsorId,m={key:String(s),label:g?_(T,{id:"sponsored_search_sponsored_label"}):void 0,url:d,onClick:()=>{t({team:"TAPS",actionType:"click",page:l,pageUid:n,itemType:"sponsoredSearchClick",itemId:String(s),itemName:c,customData:JSON.stringify({campaignType:p,clickUrl:d,sponsorId:u})})}};switch(p){case"ARTICLE":o=((e,t)=>{var{title:a,authors:l}=e;return{title:a,subtitle:l,searchText:a,icon:P,trackingType:t?"SPONSORED_ARTICLE":"ARTICLE"}})(r,g);break;case"GEO":o=((e,t)=>{var{name:a,stateAndCountryOrEquivalent:l}=e;return{title:a,subtitle:l,searchText:a,trackingType:t?"SPONSORED_LOCATION":"LOCATION"}})(r,g);break;case"TRIP":o=((e,t)=>{var{title:a,ownerDisplayName:l}=e;return{title:a,subtitle:l,searchText:a,icon:U,trackingType:t?"SPONSORED_TRIP":"TRIP"}})(r,g);break;default:return null}return{...m,...o,title:_("div",{ref:i,children:o.title})}},ae=({isOpen:e,scope:t,onStopLoading:a})=>{var l=A(),n={isHotelsUrl:"HOTELS"===t.linkType,isAttractionsUrl:"ATTRACTIONS"===t.linkType,isRestaurantsUrl:"RESTAURANTS"===t.linkType,isRentalsUrl:"VACATION_RENTALS"===t.linkType},[{data:r}]=M({query:Z,variables:n,pause:!e}),[{data:o}]=M({query:J,variables:{recentLocationsLimit:"ATTRACTION"===t.pageType||"HOTEL"===t.pageType||"RESTAURANT"===t.pageType?10:5,uid:l,...n},pause:!e}),s=j({scope:t,onStopLoading:a}),u=B(!e),c=i((()=>((null==r?void 0:r.popularDestinations.map((e=>z(e,t.linkType))))||[]).filter(Boolean).slice(0,5)),[r,t.linkType]),d=i((()=>{var e,a;return((null==o||null==(e=o.insightProfile)||null==(a=e.locations)?void 0:a.map((e=>z(null==e?void 0:e.location,t.linkType))))||[]).filter(Boolean).slice(0,5)}),[o,t.linkType]);return i((()=>{var e,t,a=[];return null!=s&&a.push(s),null!=u&&a.push(u),d.length>0?(e=_(T,{id:"dual_search_recently_viewed_all_caps"}),t=a.length,a.push(...d)):c.length>0&&(e=_(T,{id:"dual_search_popular_destinations"}),t=a.length,a.push(...c)),{results:a,header:e,headerIndex:t}}),[s,u,c,d])},le=({source:e,scope:t,maxItems:a,onClose:i,isOpen:s,onOpen:u,query:c,setQuery:d,searchMode:p="SingleSearch",highlightFirstResult:h=!1})=>{var g,m=I(),y=C(),[b,v]=o(0),[f,T]=o(!1),{results:{results:R,resultsId:S},logTypeaheadOpened:_,logResultSelection:N,logSearchAction:A,searchSessionId:E}=O(c,e,t,p,a),M=n((()=>{T(!1)}),[]),x=K({scope:t,isOpen:s,onStopLoading:M}),L=0===R.length||!c.length||c.length<w,P=L?x.results:R,U=l("");r((()=>{S!==U.current&&(v(Date.now()),U.current=S)}),[S]);var[H,D]=o(null),q=h&&null==H?0:H,V=null!=H&&(null==(g=P[H])?void 0:g.searchText)||c,z=n(((e,t)=>{N(t,L,e,P.findIndex((t=>t.key===e.key)),b)}),[P,N,b,L]),j=n((e=>{if(null!=e){var t;if(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;if(m.path===e.currentTarget.pathname&&null!=(t=k.get(m.page))&&t.isClientNavigable({sourcePage:m.page}))return void(null!=i&&i())}T(!0)}),[m,i]),B=n((e=>{s&&!e||(u&&u(),D(null),_(),v(Date.now()))}),[u,s,_]),G=n((()=>{s&&(D(null),i&&i())}),[s,i]),Q=n((e=>{d(e),D(null),e.length>=w&&B()}),[d,B]),F=n((t=>{switch(t.keyCode){case 38:s?D((e=>null==e?P.length-1:e>0?e-1:null)):B(),t.preventDefault();break;case 40:s?D((e=>null==e?0:e<P.length-1?e+1:null)):B(),t.preventDefault();break;case 13:var a=null!=q?P[q]:null;null==a&&"SRP_SINGLE_SEARCH"===e?(G(),t.preventDefault()):null!=a&&(z(a,"enter"),!1===t.defaultPrevented&&(null==a.onClick||a.onClick(),null!=a.url&&y(a.url)&&T(!0),t.preventDefault()));break;case 27:G(),t.preventDefault()}}),[y,s,q,P,G,B,z,e]),$=n((()=>{A(b),T(!0)}),[A,b]),W=n((()=>{D(null)}),[]),Z=n(((e,t)=>{z(e,"click"),j(t)}),[z,j]);return{displayedQuery:V,isLoading:f,results:P,header:L?x.header:void 0,headerIndex:L?x.headerIndex:void 0,selectedIndex:q,searchSessionId:E,onResultHovered:W,onResultClicked:Z,onOpen:B,onClose:G,onSubmit:$,onChange:Q,onKeyDown:F}},ne={HOTEL:["Hotels","MobileHotels","Hotel_Review","MobileHotel_Review","HotelHighlight","MobileHotelHighlight","SmartDeals","MobileSmartDeals","HotelsList","MobileHotelsList","HotelsNear","MobileHotelsNear","NearbyHotels","MobileNearbyHotels","HotelSearch","LastMinute","TravelersChoiceHotels","ShowUserReviewsHotels"],ATTRACTION:["Attractions","MobileAttractions","Attractions_Coverpage","Attraction_Review","MobileAttraction_Review","AttractionsNear","AttractionProductReview","MobileAttractionProductReview","MobileAttractionsNear","Attraction_Products","MobileAttraction_Products","AttractionReviewSearch","MobileAttractionReviewSearch","NearbyAttractions","MobileNearbyAttractions","ShowUserReviewsAttractions","TravelersChoiceAttractions"],RESTAURANT:["Restaurants","MobileRestaurants","Restaurant_Review","MobileRestaurant_Review","RestaurantSearch","MobileRestaurantSearch","RestaurantsNear","MobileRestaurantsNear","RestaurantMenu","MobileRestaurantMenu","NearbyRestaurants","MobileNearbyRestaurants","TravelersChoiceRestaurants","ShowUserReviewsRestaurants"],FORUM:["ShowTopic","ShowForum","ListForums","ForumHome"]},re={},ie=({source:e,maxItems:t=10,styleVariant:a,overlayVariant:l,placeholderText:i,initialQuery:s="",hidden:u,onClose:c,scope:d,closeOnResultClicked:p,searchMode:h="SingleSearch",isModalOnly:g=!1,highlightFirstResult:m=!1})=>{var[y,b]=o(g),v=n((()=>{g||b(!1),c&&c()}),[c,g]),f=n((()=>{g||b(!0)}),[g]),[T,R]=o(s),S=G({source:e,maxItems:t,scope:d,searchMode:h,onOpen:f,onClose:v,isOpen:y,query:T,setQuery:R,highlightFirstResult:m}),{onOpen:N}=S;return r((()=>{g&&null!=N&&N(!0)}),[g,N]),u&&!y?null:_(V,{...S,onResultClicked:(e,t)=>{p&&v(),null==S.onResultClicked||S.onResultClicked(e,t)},styleVariant:a,overlayVariant:l,placeholderText:i,query:T,scope:d,isOpen:y,testAttribute:`typeahead-${e}`})};return[()=>{V=a(W),z=X,j=ee,B=te,K=ae,G=le,Object.entries(ne).forEach((([e,t])=>t.forEach((t=>{re[t]=e})))),e({default:a(ie),pageToTypeMappings:re})},[e=>(a=e.memo,l=e.useRef,n=e.useCallback,r=e.useEffect,i=e.useMemo,o=e.useState),e=>s=e.useUserAgent,e=>u=e.default,e=>c=e.useClientSideLayoutEffect,e=>d=e.useWindow,e=>(p=e.useVisibleEffect,h=e.useOnVisible),e=>g=e.default,e=>m=e.default,e=>y=e.default,e=>b=e.default,e=>v=e.default,e=>f=e.useViewportCategory,e=>(T=e.default,R=e.useLocalize),e=>S=e.useBlockScroll,e=>(_=e.jsx,N=e.jsxs),e=>C=e.useNavigate,e=>k=e.pages,e=>(I=e.useRoute,A=e.usePageviewUid),e=>(O=e.default,w=e.MIN_QUERY_LENGTH),e=>(E=e.useClient,M=e.useQuery),e=>x=e.default,e=>L=e.default,e=>P=e.default,e=>U=e.default,e=>H=e.default,e=>D=e.useRandomSponsorshipCampaign,e=>q=e.default]]},["1o4yt4","1nnprh","fkji80","1mb2nz","ltllz9","13btuy","a6i9w3","1qx89h","1qkjm8","17gmts","1essqv","1ys6v1","17thqz","1uzmmz","121h32","10ad67","u5g3tb","fgwvq1","7l5hpv","1mqwhq","tp1g68","1nc3gm","zb2uaz","1l75rc","1r73jw","1ubyuk","xg719z"]]);
