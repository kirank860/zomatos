(this.$WP=this.$WP||[]).push(["12z6i3",(e,r)=>{"use strict";var t,l,a,s,i,n,o,d,c,u,h,p,m,v,g,f,T,N,_,P,U,R,w,y,D,S,A,E,x,L="jMYgY b",b="LQYvO z",B="ZNoKK z v K",q="VnIWC z",O="PCXop",k={DEFAULT_CTA_TEXT:e=>e.string("view_deal"),VP_BOARD_LABEL:(e,r)=>((e,r)=>(y||(y={RO:r.string("board_basis_room_only"),SC:r.string("board_basis_self_catering"),BB:r.string("board_basis_breakfast_included"),HB:r.string("board_basis_half_board"),FB:r.string("board_basis_full_board"),AI:r.string("board_basis_all_inclusive")}),y[e]))(e,r)||null,VP_OFFER_HAS_AIRPORT_TRANSFER:e=>e.string("tags_category_tag_airport_transportation"),VP_STAY_NIGHTS_PLUS_FLIGHT:(e,r)=>r.string("num_night_stay_plus_flight_v2",{nNights:e}),VP_STAY_NIGHTS:(e,r)=>r.string("mobile_ib_nights_plural",{0:e}),VP_PER_PERSON:e=>e.string("vp_per_person_short"),VP_HOTEL_PLUS_FLIGHT:e=>e.string("hotel_plus_flight")},C=e=>{var{logoUrl:r,displayName:t,showExtLinkIcon:a,noLogo:s}=e;return r||t?s||!r?h("div",{className:"wpRZB z q",children:[u("span",{className:b,children:t}),a?u(z,{}):null]}):u(l,{className:n("PlfwL"),src:r,alt:t}):null},I=({children:e})=>u(c,{size:"large",type:"original",children:e}),z=()=>u(o,{name:"external-link-no-box"}),F=({priceText:e,strikeThroughText:r,isPerPersonRate:t=!0,showStrikeThroughPrice:l=!0})=>{var{localize:a}=d();return h("div",{className:"nKDwy",children:[l&&r&&r!==e?u("div",{className:"Cseiv b",children:r}):null,h("div",{className:L,children:[e,t&&u("span",{className:"wJKWy",children:k.VP_PER_PERSON(a)})]})]})},V=({offer:e,fields:r})=>{var t=[],{localize:l}=d();return r.forEach((r=>{var a=((e,r,t)=>{switch(r){case"boardBasis":return k.VP_BOARD_LABEL(e.boardBasisCode||"NONE",t);case"airportTransfer":return!0===e.hasAirportTransfer?k.VP_OFFER_HAS_AIRPORT_TRANSFER(t):null;case"hotelPlusFlight":return k.VP_HOTEL_PLUS_FLIGHT(t);case"numNightsPlusFlight":return e.stayNights>0?k.VP_STAY_NIGHTS_PLUS_FLIGHT(e.stayNights,t):null;case"numNights":return e.stayNights>0?k.VP_STAY_NIGHTS(e.stayNights,t):null;default:return null}})(e,r,l);null!=a&&t.push(a)})),u(p,{children:t.map((e=>u("span",{className:"aoAWF z",children:e},e)))})},G=e=>{var{offer:r,noLogo:t}=e,{strikeThroughText:l,priceText:a,providerDisplayName:n,providerLogoUrl:o}=r;return h("div",{className:"QydmG z w",children:[h(s,{gapless:!0,verticallyCentered:!0,gaplessVertical:!0,mobile:!0,children:[u(i,{width:6,mobile:{width:6},children:u(C,{logoUrl:o,displayName:n,noLogo:t,showExtLinkIcon:!0})}),u(i,{width:6,mobile:{width:6},children:u(F,{priceText:a,strikeThroughText:l})})]}),u(s,{gapless:!0,gaplessVertical:!0,mobile:!0,children:u(i,{width:12,mobile:{width:12},children:u("div",{className:B,children:u(V,{offer:r})})})})]})},H=e=>{var{localize:r}=d(),{viewDealText:t=k.DEFAULT_CTA_TEXT(r)}=e;return h("div",{className:n("ui_columns is-gapless is-gapless-vertical is-mobile","OkCvj z w v"),children:[u(i,{width:8,mobile:{width:8},children:u("div",{className:"lvuLd",children:u(G,{...e})})}),u("div",{className:n("ui_column is-4 is-4-mobile","rzimP"),children:u("div",{className:q,children:u(I,{children:u("span",{className:"vQoIf",children:t})})})})]})},j=({offer:e})=>{var{providerDisplayName:r,priceText:t}=e;return h("div",{className:"DduQm w",children:[h("div",{className:"CUKpA",children:[h("div",{className:b,children:[r,u(z,{})]}),u("span",{className:"LmzpQ"}),u("div",{className:L,children:t})]}),u("div",{className:B,children:u(V,{offer:e})})]})},K=e=>{var{localize:r}=d(),{viewDealText:t=k.DEFAULT_CTA_TEXT(r)}=e;return h("div",{className:"pjMFc z w",children:[u(G,{...e}),u("div",{className:q,children:u(I,{children:t})})]})},M=e=>{var{localize:r}=d(),{viewDealText:t=k.DEFAULT_CTA_TEXT(r),offer:l}=e,{priceText:a,providerDisplayName:s,providerLogoUrl:i}=l;return h("div",{className:"XrHoQ w",children:[u("div",{className:B,children:u(V,{offer:l,fields:["boardBasis","airportTransfer","numNights"]})}),h("div",{className:"veHJY",children:[h("div",{className:O,children:[u(F,{priceText:a}),u(C,{logoUrl:i,displayName:s,noLogo:!0,showExtLinkIcon:!0})]}),u("div",{className:O,children:u(c,{children:t})})]})]})},W=e=>{var{localize:r}=d(),{viewDealText:t=k.DEFAULT_CTA_TEXT(r),offer:l,mapOfferType:a}=e,{strikeThroughText:s,priceText:i,providerDisplayName:n,providerLogoUrl:o,isPerPersonRate:p}=l;return u("div",{className:"hiciJ w",children:h("div",{className:"VGDed",children:[h("div",{className:"list"===a?"lKuTI":"UHmlu",children:[u(F,{priceText:i,strikeThroughText:s,isPerPersonRate:p,showStrikeThroughPrice:!1}),u(C,{logoUrl:o,displayName:n,noLogo:!0,showExtLinkIcon:!0})]}),u("div",{className:"lCevi",children:u(c,{size:"small",type:"original",children:t})})]})})},X=e=>{var r,{displayType:t,offer:l,onClick:s,className:i,viewportCategory:o}=e,{offerUrl:d}=l;return r="detailChevron"===t?u(H,{...e}):"dominant"===t?u(K,{...e}):"logoText"===t?u("div",{className:"vlAzN z w",children:u(G,{...e})}):"text"===t?u("div",{className:"bpigD z w",children:u(G,{...e,noLogo:!0})}):"detailText"===t?u(j,{...e}):"detailShelf"===t?u(M,{...e}):"mapList"===t?u(W,{mapOfferType:"list",...e}):"mapPopup"===t?u(W,{mapOfferType:"popup",...e}):null,"none"===t?null:u(a,{target:"MOBILE"===o?"_self":"_blank",encodedUrl:d,useSpan:!1,onClick:e=>s(l,e),className:n("KfBIL _T _S v K z",i),children:r})},Y=e=>{var{onViewDeal:r,offers:t,displayType:l,separator:a,className:s}=e,i=t.map((e=>u("li",{className:"FsNXz",children:u(D,{displayType:l,offer:e,onClick:r})},e.offerUrl)));return u("ul",{className:n("zUPOL _A f e u P0 _T",a&&"FTlya",s),children:i})},Q="UNDaj _R",J="KgjLf Wh C- Wc _S b",$=(e,r)=>r.string("view_all_n_deals_plural",{0:e}),Z=(e,r,t)=>t.string("view_all_deals_from_commerce_on_list_screen",{0:e,1:r}),ee=({expand:e,children:r})=>u(g,{mobile:u("a",{onClick:e,className:n("ui_button secondary",Q),children:r}),tablet:u("a",{onClick:e,className:n("ui_button secondary",Q),children:r}),desktop:u("a",{onClick:e,className:n(J),children:r})}),re=e=>(e.filter((e=>!!e.isLowestPrice)).shift()||e[0]||{}).priceText,te=e=>{var{localize:r}=d();return u(R,{...e,localize:r})},le=!1,ae=null,se=null,ie=null,ne=()=>{le=!0;var e=E.get(0);if(e&&e.length>0){E.set(0,[]);for(var r=[],t=0;t<e.length;++t){var l=e[t];if(l)try{l()}catch(e){r.push(e)}}if(r.length>0)throw setTimeout(ne,0),r[Math.floor(Math.random()*r.length)];var a=E.get(0);if(a&&a.length>0)return void setTimeout(ne,0)}le=!1;var s=E;E=new Map,s.forEach(((e,r)=>{e&&e.length>0&&setTimeout((()=>{var r=le;le=!0;for(var t=0;t<e.length;++t)oe(e[t],0);r||ne()}),r)})),ie&&ie()},oe=(e,r=0)=>{if(e){var t=r<0?0:r,l=E.get(t);l||(l=[],E.set(t,l)),l.push(e),le||(le=!0,setTimeout(ne,0))}},de=[1e3,1e3,1e3,1e3,1500,1500,1500,2e3,2e3,2e3,5e3,1e4,1e4,1e4,1e4],ce=/&puid=[^&]+/g,ue=(e,r)=>e===r||(e&&r?e.replace(ce,"")===r.replace(ce,""):!e&&!r),he={UNSUPPORTED_GEO:"UNSUPPORTED_GEO",IN_PROGRESS:"IN_PROGRESS",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},pe={PARTNERS:"PARTNERS",NONE:"NONE"},me=(e,r,t,l)=>{var a,s,i,n,o,d,c=!1;return s=((e,r)=>(r,t)=>{var l,s,i,n,o,d={};return e&&null===(d=e(r,t))?null:((e,r,t)=>{var l={...e,rn:t,queryId:r};return`/data/1.0/vacationpackages/offers?${Object.keys(l).sort().filter((e=>null!=l[e]&&0!==l[e].length)).map((e=>`${x(e)}=${x(l[e])}`)).join("&")}`})({rc:(null==(l=r.route)?void 0:l.page)||(null==(s=r.meta)?void 0:s.initialServletName)||"dataapi",locale:null==(i=r.i18n)?void 0:i.locale,currency:null==(n=r.travelerInfo)||null==(o=n.preferences)?void 0:o.currency,...d,hotels:(d.hotels||[]).join(","),geoId:d.geo||r.page.geoId,excludeProviders:(d.excludeProviders||[]).join(","),childrenAges:(d.childrenAges||[]).join(",")},a,t)})(e),i=e=>(c=r&&r()||!(!e||!(e.error||e.status&&e.status!==he.IN_PROGRESS)),a=c?null:e&&e.queryId,c),n=(e,r,l)=>t(e,r,l,c),o=l,d=null,T({data:(e,r,t)=>{var l=(d=d||s(e,null))?r(d):null;return o&&"function"==typeof o&&o(e,r),r=>{var t=l&&l.get()||{data:null,loading:!1};return{completionPredicate:i,currentBaseUrl:s(e,null),stagedUrl:d,stagedLoading:t.loading,stagedData:t.data,pollingUrlGenerator:e=>s(r,e),renderer:(e,t)=>n(r,e,t)}}},actions:null})(w)},ve=e=>{var{startDate:r,endDate:t}=N(e);return r&&t&&new _(r).daysTo(new _(t))},ge=(e,r,t)=>{var l={module:e,action:r};void 0!==t&&(l.value=t),P(l)},fe=(e,r,t)=>{var l={module:e,action:r};void 0!==t&&(l.value=t),U(l)};return[()=>{C.defaultProps={logoUrl:null,displayName:null,showExtLinkIcon:!1,noLogo:!1},F.defaultProps={strikeThroughText:null,isPerPersonRate:!0,showStrikeThroughPrice:!0},V.defaultProps={fields:["boardBasis","airportTransfer","hotelPlusFlight"]},H.defaultProps=X.defaultProps={onClick:()=>{},noLogo:!1,boardBasisCode:null,hasAirportTransfer:null},K.defaultProps=X.defaultProps,G.defaultProps=X.defaultProps,j.defaultProps=X.defaultProps,M.defaultProps=X.defaultProps,D=t(((e,r)=>({...r,viewportCategory:e.meta.device.viewportCategory})))(X),Y.defaultProps={onViewDeal:()=>{},separator:!1,displayType:"logoText",className:null},S=Y,(R=class extends m{constructor(e){super(e),this.clickedExpand=()=>{this.setState({expanded:!0})},this.clickedCollapse=()=>{this.setState({expanded:!1})},this.state={expanded:!1}}getNumOffersToShow(){var{offers:e,limit:r}=this.props;return r>0?Math.min(e.length,r):e.length}renderDefaultAltTreatment(){return u(g,{mobile:this.renderInlineAltTreatment(),tablet:this.renderPopoverAltTreatment(),desktop:this.renderPopoverAltTreatment()})}renderPopoverAltTreatment(){var{offers:e,altType:r,limit:t,viewDealText:l,onViewDeal:a}=this.props,s={},i=this.getNumOffersToShow(),n=re(e),d=n?Z(i,n,this.props.localize):$(i,this.props.localize);return u("div",{className:"oEpiQ",children:u(v,{below:!0,alignEdge:"left",minWidth:160,closeButton:!1,contents:()=>u("div",{className:"daeLR",children:u(S,{offers:e.slice(0,t),displayType:r,viewDealText:l,onViewDeal:a})}),children:(e,r)=>h("a",{ref:e,style:s,onClick:r,className:J,children:[d,u(o,{name:"caret-down"})]})})})}renderInlineAltTreatment(){var{expanded:e=!1}=this.state,{offers:r,limit:t,viewDealText:l,onViewDeal:a,altType:s}=this.props,i=this.getNumOffersToShow(),o=re(r),d=o?Z(i,o,this.props.localize):$(i,this.props.localize),c=u(ee,{expand:this.clickedExpand,children:d}),p=this.props.localize.string("collapse_deals"),m=u("a",{onClick:this.clickedCollapse,className:n("ui_button secondary",Q),children:p});return h("div",{className:"yoNhm",children:[e?u(S,{displayType:s,offers:r.slice(0,t),viewDealText:l,onViewDeal:a,separator:!0}):null,u("div",{className:"Ihhog",children:e?m:c})]})}renderAltTreatment(){var{offers:e,show:r,altTreatment:t,altType:l}=this.props,a=null;return"none"!==l&&e&&e.length>r&&(a="inline"===t?this.renderInlineAltTreatment():"popover"===t?this.renderPopoverAltTreatment():this.renderDefaultAltTreatment()),a}render(){var{mainType:e,offers:r,viewDealText:t,onViewDeal:l,show:a,limit:s}=this.props,{expanded:i}=this.state;return h("div",{className:n("MsmKZ P0 w _T",i?"FLsms":"oNcWw"),children:[u(S,{displayType:e,offers:r.slice(0,a),limit:s,viewDealText:t,onViewDeal:l,className:"MvUms"}),this.renderAltTreatment()]})}}).defaultProps={onViewDeal:()=>{},show:1,mainType:"detailChevron",altType:"text",altTreatment:"default",limit:25},A=te,E=new Map,w=class extends m{static getDerivedStateFromProps(e,r){return!e.currentBaseUrl&&r.currentBaseUrl?{override:!0,requestedUrl:null,requestedReqNum:null,currentBaseUrl:e.currentBaseUrl,currentReqNum:null,overrideDataBaseUrl:null,overrideDataReqNum:null,overrideData:null}:r.override||e.stagedUrl===e.currentBaseUrl?e.currentBaseUrl!==r.currentBaseUrl?ue(e.currentBaseUrl,r.currentBaseUrl)?{currentBaseUrl:e.currentBaseUrl}:{currentBaseUrl:e.currentBaseUrl,currentReqNum:null}:null:!e.stagedLoading&&ue(e.stagedUrl,e.currentBaseUrl)?{override:!0,currentBaseUrl:e.currentBaseUrl,currentReqNum:null,overrideDataBaseUrl:e.currentBaseUrl,overrideDataReqNum:null,overrideData:e.stagedData}:{override:!0,currentBaseUrl:e.currentBaseUrl,currentReqNum:null}}constructor(e){super(e),this.triggerPending=void 0,this.pollPending=void 0,this.callbackRef=void 0,this.state={currentBaseUrl:e.currentBaseUrl,currentReqNum:null,requestedUrl:null,requestedReqNum:null,override:e.stagedUrl!==e.currentBaseUrl,overrideDataBaseUrl:null,overrideDataReqNum:null,overrideData:null},this.triggerPending=!1,this.pollPending=!1,this.callbackRef=[this]}onTrigger(){this.triggerPending=!1;var e=this.state.currentBaseUrl,r=this.state.currentReqNum,t=this.callbackRef;if(this.state.requestedUrl!==e||r&&r>(this.state.requestedReqNum||0)){var l=e;if(l&&r&&r>1&&(l=this.props.pollingUrlGenerator(r)),!l)return void this.setState({override:!0,requestedUrl:e,requestedReqNum:r,overrideData:null,overrideDataBaseUrl:e,overrideDataReqNum:r});this.setState({requestedUrl:e,requestedReqNum:r}),(e=>{if(!e)return Promise.resolve(null);if(!(ae&&se&&ie)){ie&&ie(),ie=null;var r=new f;ae=r,se=new Promise(((e,t)=>{ie=()=>{try{ie=null,ae=null,se=null,e(r.resolve())}catch(e){t(e)}}}))}var t=ae.stager(e);return se.then((r=>{var l=r;return(l=(l=l&&l[t])&&l[e])?l.body:null}))})(l).then((l=>t[0]&&t[0].processResponse(e,r,l)),(l=>t[0]&&t[0].processResponse(e,r,null)))}}processResponse(e,r,t){e===this.state.requestedUrl&&r===this.state.requestedReqNum&&(this.pollPending=!1,this.setState({override:!0,overrideData:t||null,overrideDataBaseUrl:e,overrideDataReqNum:r}))}triggerPoll(e,r){ue(this.state.currentBaseUrl,e)&&(r||1)>=(this.state.currentReqNum||1)&&this.setState({currentReqNum:(r||1)+1})}render(){if(!this.state.currentBaseUrl)return this.props.renderer(!1,null);var e=this.state.overrideData,r=this.state.overrideDataBaseUrl!==this.state.currentBaseUrl,t=r||(this.state.currentReqNum||0)>(this.state.overrideDataReqNum||0);r&&!this.state.override&&this.props.stagedUrl===this.state.currentBaseUrl&&(e=this.props.stagedData,r=this.props.stagedLoading,t=(this.state.currentReqNum||0)>1);var l=this.callbackRef;if(t)this.triggerPending||this.state.currentBaseUrl===this.state.requestedUrl&&this.state.currentReqNum===this.state.requestedReqNum||(this.triggerPending=!0,oe((()=>l[0]&&l[0].onTrigger()),0));else if(!r&&!this.pollPending&&this.state.currentBaseUrl&&!this.props.completionPredicate(e)){var a=this.state.currentBaseUrl,s=this.state.currentReqNum||1;s<de.length&&(this.pollPending=!0,oe((()=>l[0]&&l[0].triggerPoll(a,s)),de[s]))}return this.props.renderer(!e||r,e)}componentWillUnmount(){this.callbackRef[0]=null}},x=encodeURIComponent,e({OFFER_SOURCE:pe,ORIG_AIRPORT_LARGEST_FOR_POS:"LARGEST_FOR_POS",STATUS:he,VpMetaOfferWidget:A,VpOffer:D,bindVpData:me,extractNumNights:ve,trackEventAJAX:ge,trackEventAJAXOnPageOnce:fe})},[e=>t=e.connect,e=>l=e.CdnImage,e=>a=e.default,e=>(s=e.Columns,i=e.Column),e=>n=e.default,e=>o=e.Icon,e=>d=e.useLocalize,e=>c=e.default,e=>(u=e.jsx,h=e.jsxs,p=e.Fragment),e=>m=e.Component,e=>v=e.default,e=>g=e.ViewportCategory,e=>(f=e.ApiCaller,T=e.bind),e=>(N=e.decode,_=e.CalendarDate),e=>(P=e.default,U=e.trackEventAJAXOnPageOnce)]]},["12mj4n","1s6q22","ay1l3c","ptdiqu","fkji80","1ybxsm","17thqz","4nzso8","121h32","1o4yt4","14q9l4","kyjmg5","16z5q2","1r5lgo","4axon3"]]);
