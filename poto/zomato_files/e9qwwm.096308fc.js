(this.$WP=this.$WP||[]).push(["e9qwwm",(t,e)=>{"use strict";var r,a,o,s,i,n,d,u,l,c,g,b,m,p,I,h,y,f,k,A,v=(t,e,r)=>{e(t,"covertablemetricStoryBoardClick",{locationId:r.trackingAttributes.locationId,geoId:r.trackingAttributes.geoId,impressionId:r.trackingAttributes.impressionId,lastReferrer:r.trackingAttributes.lastReferrer,pageviewId:r.trackingAttributes.pageviewId,servletName:r.trackingAttributes.servletName,sessionId:r.trackingAttributes.sessionId,userAgent:r.trackingAttributes.userAgent,userId:r.trackingAttributes.userId,fromAd:r.trackingAttributes.fromAd})},w=t=>{var e=parseInt(t.storyboard.mediaId||0,10),[s,i]=r(!0);return a((()=>{i(!1)}),[i]),t.storyboard?m(u,{mount:{module:"Restaurant_Review",action:"storyboard_displayed",context:t.detailId.toString(),once:!1},children:[s&&p(l.Provider,{value:"restaurants",children:p(c,{children:e=>p(I,{children:v(null,e,t)})})}),p(o,{children:p(f,{source:t.storyboard.storyboardUrl,width:"100%",height:"auto",autoplayWhenVisible:!0,preload:"auto",showAutoplayConfig:!0,muted:!0,playerFluid:!0,trackingModule:"storyboard",mediaId:e})})]}):null};return[()=>{f=s((()=>e("1qrifa"))),k=d(((t,e)=>{var r=t.page.detailId,a=e(`/data/1.0/restaurant/${r}/storyboard`),o={storyboardUrl:"",mediaId:""};return()=>({detailId:r,storyboard:a.get().data||o,trackingAttributes:{locationId:r,servletName:t.meta.initialServletName,sessionId:t.tracking.sessionId,lastReferrer:t.meta.referrerUrl||"",userId:t.auth.loggedInUserId,geoId:t.page.geoId,userAgent:"undefined"==typeof navigator?"node-render":navigator.userAgent,pageviewId:t.tracking.uid,impressionId:g()||null,fromAd:b(r)||!1}})}))(w),y=class extends i{constructor(...t){super(...t),this.state={componentIsHidden:!1},this.hideComponent=()=>{this.setState({componentIsHidden:!0})},this.asbRadio=n("location-detail-storyboard"),this.render=()=>{if(!this.state.componentIsHidden){if(this.props.storyboard)return p(k,{});if(this.props.webStoryboard)return p(h,{className:"w _Z"})}return null}}componentDidMount(){this.asbRadio.on("opt-out-clicked",this.hideComponent)}componentWillUnmount(){this.asbRadio.off("opt-out-clicked",this.hideComponent)}},A=d(((t,e)=>{var r=t.page.detailId,a=e(`/data/1.0/restaurant/${r}/storyboard`).get().data,o=e(`/data/1.0/restaurant/${r}/webStoryboard`).get().data;return k.stage(t,e),h.stage(t,e),()=>({storyboard:a,webStoryboard:o})}))(y),t("default",A)},[t=>(r=t.useState,a=t.useEffect,o=t.Suspense,s=t.lazy,i=t.PureComponent),t=>n=t.createRadio,t=>d=t.bind,t=>u=t.Track,t=>(l=t.TrackingNamespaceContext,c=t.InteractionLogger),t=>(g=t.RestaurantImpressionIdFromSessionStorage,b=t.IsFromSponsoredClick),t=>(m=t.jsxs,p=t.jsx,I=t.Fragment),t=>h=t.default]]},["1o4yt4","1bqgab","16z5q2","4axon3","yc8qq2","1ezmx4","121h32","1yr7u7"]]);
