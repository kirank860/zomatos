(this.$WP=this.$WP||[]).push(["1g05ql",(e,n)=>{"use strict";var t,r,o,u,a,i,c,s,l,h,d,v,f,m,g,T,y,p,b,S=()=>null!=m&&m.matches?"DARK":"LIGHT",P=e=>{"removeEventListener"in m?m.removeEventListener("change",e):"removeListener"in m&&m.removeListener(e)},w={__key:0x5d38d9a2ef9c,id:"5d38d9a2ef9c32d279740ba2bd4b3201",loc:{},definitions:[]},L=()=>g,O=(e=!0)=>{var n=h(w);return[g,r((e=>n({themeStore:e})),[n])]},x={};function C(e){return new Promise((function(n,t){e.oncomplete=e.onsuccess=function(){return n(e.result)},e.onabort=e.onerror=function(){return t(e.error)}}))}function k(e,n){var t=indexedDB.open(e);t.onupgradeneeded=function(){return t.result.createObjectStore(n)};var r=C(t);return function(e,t){return r.then((function(r){return t(r.transaction(n,e).objectStore(n))}))}}function A(){return T||(T=k("keyval-store","keyval")),T}function I(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A();return n("readonly",(function(n){return C(n.get(e))}))}function B(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A();return t("readwrite",(function(t){return t.put(n,e),C(t.transaction)}))}function D(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A();return n("readwrite",(function(n){return e.forEach((function(e){return n.put(e[1],e[0])})),C(n.transaction)}))}function E(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A();return n("readonly",(function(n){return Promise.all(e.map((function(e){return C(n.get(e))})))}))}function j(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A();return t("readwrite",(function(t){return new Promise((function(r,o){t.get(e).onsuccess=function(){try{t.put(n(this.result),e),r(C(t.transaction))}catch(e){o(e)}}}))}))}function M(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A();return n("readwrite",(function(n){return n.delete(e),C(n.transaction)}))}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return e("readwrite",(function(e){return e.clear(),C(e.transaction)}))}function R(e,n){return e("readonly",(function(e){return e.openCursor().onsuccess=function(){this.result&&(n(this.result),this.result.continue())},C(e.transaction)}))}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A(),n=[];return R(e,(function(e){return n.push(e.key)})).then((function(){return n}))}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A(),n=[];return R(e,(function(e){return n.push(e.value)})).then((function(){return n}))}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A(),n=[];return R(e,(function(e){return n.push([e.key,e.value])})).then((function(){return n}))}var N="theme",F=()=>y(N).then((e=>{if(null!=e&&"object"==typeof e&&"theme"in e&&"themePreferenceOrAuto"in e){var{theme:n,themePreferenceOrAuto:t}=e;return{theme:n,themePreferenceOrAuto:t}}})).catch((e=>{console.error("Error getting theme from IndexedDB",e)})),U=()=>{var{isWebview:e}=d();return v(),e?{enableTheming:!0,canChangeThemes:!0}:{enableTheming:!1,canChangeThemes:!1}},V="themeChanged",$=e=>null!=e?o[e]:void 0,G=({initialThemeStore:e,children:n})=>{var r,h,d,v,{canChangeThemes:g,enableTheming:T}=b(),[y,w]=O(T),[L,x]=t.useState(null!=(r=null==(h=null!=e?e:y)?void 0:h.theme)?r:c),[C,k]=t.useState(null!=(d=null==(v=null!=e?e:y)?void 0:v.themePreferenceOrAuto)?d:s),A=t.useRef((()=>{}));t.useEffect((()=>()=>P(A.current)),[]);var I=t.useCallback(((e,n)=>{var t=T?e:c;k(t);var r=document.body;if(null!=r){var u=$(t);r.classList.remove(...Object.values(o).map(String)),null!=u&&r.classList.add(u)}if(!1!==(null==n?void 0:n.syncToTabs))try{window.localStorage.setItem(V,t),window.localStorage.removeItem(V)}catch(e){}var a,i=e=>{x(e);var r={theme:e,themePreferenceOrAuto:t};!1!==(null==n?void 0:n.saveToService)&&w(r),!1!==(null==n?void 0:n.saveToIndexedDB)&&(e=>{p(N,e).catch((e=>console.error("Error saving theme to IndexedDB",e)))})(r)};"AUTO"===t?(i(S()),P(A.current),A.current=()=>{i(S())},a=A.current,"addEventListener"in m?m.addEventListener("change",a):"addListener"in m&&m.addListener(a)):(i(t),P(A.current))}),[w,T]),B=t.useCallback((e=>{I(e,{saveToService:!1,saveToIndexedDB:!1,syncToTabs:!1})}),[I]),{serviceWorker:D}=t.useContext(u);t.useEffect((()=>{null!=e?I(e.themePreferenceOrAuto,D?{saveToIndexedDB:!1}:{saveToService:!1}):D?I(s,{saveToIndexedDB:!1,saveToService:!1}):F().then((e=>{null!=e?I(e.themePreferenceOrAuto,{saveToIndexedDB:!1}):I(s,{saveToIndexedDB:!1,saveToService:!1})}))}),[I,D,e]),i("storage",(e=>{var n=e;n.key===V&&null!=n.newValue&&B(n.newValue)}));var E=a();t.useEffect((()=>{T&&E({itemType:"theme",customData:JSON.stringify({theme:L})})}),[T,E,L]);var j=t.useMemo((()=>T?{theme:L,themePreferenceOrAuto:C,canChangeThemes:g,setTheme:I,setThemeLocal:B}:{theme:c,themePreferenceOrAuto:c,canChangeThemes:!1,setTheme:()=>{},setThemeLocal:()=>{}}),[L,C,T,g,I,B]);return f(l,{value:j,children:n})};return[()=>{m=null==globalThis.matchMedia?void 0:globalThis.matchMedia("(prefers-color-scheme: dark)"),Object.defineProperty(x,"__esModule",{value:!0}),x.clear=W,x.createStore=k,x.del=M,x.entries=z,y=x.get=I,x.getMany=E,x.keys=_,x.promisifyRequest=C,p=x.set=B,x.setMany=D,x.update=j,x.values=q,b=U,e({LithiumThemeProvider:G,getBodyElementClassName:$,getInitialThemeStoreForServerSideRenderer:L,getInitialThemeStoreForServiceWorkerRenderer:F})},[e=>(t=e,r=e.useCallback),e=>o=e.themeClassNames,e=>u=e.LithiumBootstrapContext,e=>a=e.default,e=>i=e.useWindow,e=>(c=e.defaultTheme,s=e.defaultThemePreferenceOrAuto,l=e.ThemeProvider),e=>h=e.useStatelessMutation,e=>d=e.useUserAgent,e=>v=e.useLanguage,e=>f=e.jsx]]},["1o4yt4","vpo3wt","p5p2yo","xg719z","ltllz9","1u9jlw","1fbuhs","1nnprh","17thqz","121h32"]]);
