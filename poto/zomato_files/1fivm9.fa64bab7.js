(this.$WP=this.$WP||[]).push(["1fivm9",(e,i)=>{"use strict";var n,l,a,t,r,o,s,u,d,c,g,v,h,b,f,m,C,I,_,p=({locationInformation:e,onClose:i,geoId:a})=>{var{name:t,thumbnail:r}=e||{},o=f(),s=n((()=>{var e;return null!=r&&null!=(e=r.photoSizes)&&e.length?r.photoSizes:[{url:"img2/gemini/dining-club-ads/restaurant_review_footer_ad_1x.jpg",width:340,height:192},{url:"img2/gemini/dining-club-ads/restaurant_review_footer_ad_2x.jpg",width:510,height:288}]}),[r]),u=l((()=>{o({actionType:"click",itemName:"DiningClubStickyFooterAd"})}),[o]);return m("div",{className:"ZGcvd Gr s",children:C("div",{className:"vaGzO",children:[m("div",{className:"nPHAb I",children:m(g,{source:s,lazy:!1,alt:"Dining Club"})}),m("div",{className:"JMhrS I",children:m(b,{variant:"secondary",textColor:"secondary",iconColor:"secondary"})}),m("div",{className:"Bgeil",children:m(d,{variant:"title-03",children:m(h,{id:"gemini.dc.20p.rr.footer.headline",args:{restaurantName:t}})})}),m("div",{className:"SxAxk I",children:m(c,{size:"small",href:`/DiningClub?locationId=${a}`,target:"_blank",onClick:u,children:m(h,{id:"gemini.dc.rr.footer.cta"})})}),m("div",{className:"FCFFY",children:m(v,{colorVariant:"BLACK",onClick:i})})]})})},y={__key:0xcab6b64bd99d,id:"cab6b64bd99db9154a8456c6f47b4a77",loc:{},definitions:[]},w={__key:0x741341c24563,id:"741341c24563b6ff2f2bfcb29768fee1",loc:{},definitions:[]},k=e=>{var i,n,l,a=o(),[{data:t,fetching:r,error:s},d]=u({query:w,variables:{request:{filter:{locationIds:[e]}}},pause:!a||!e});return{isActive:(null!=(i=null==t||null==(n=t.DiningClub_listDiningClubGeos)||null==(l=n.geos)?void 0:l.length)?i:0)>0,fetching:r,error:s,refetch:()=>d({requestPolicy:"network-only"})}},x=()=>{var e,i,n,d,c,g=t(),v="Restaurant_Review"===g.page?g.params.detailId:void 0,h="Restaurant_Review"===g.page?g.params.geoId:void 0,b=o(),f=s(),[C,p]=a(!1),{isActive:w,error:k,fetching:x}=_(h),[{data:q}]=u({query:y,variables:{locationId:null!=v?v:0},pause:void 0===v||!b}),{restaurants:D}=(null==q?void 0:q.DiningClub_listDiningClubRestaurants)||{},{locationInformation:N}=(null==D||null==(e=D[0])?void 0:e.location)||{},{primaryLocation:z}=(null==D||null==(i=D[0])?void 0:i.geo)||{},A="LIVE"===(null==D||null==(n=D[0])||null==(d=n.offers)||null==(c=d[0])?void 0:c.status)&&"ACTIVE"===(null==D?void 0:D[0].status),R=l((()=>{p(!0)}),[]);return b&&A&&!C&&h&&N&&!f&&!x&&!k&&w?m(r,{children:m(I,{locationInformation:N,geoId:(null==z?void 0:z.locationId)||h,onClose:R})}):null};return[()=>{I=p,_=k,e("default",x)},[e=>(n=e.useMemo,l=e.useCallback,a=e.useState),e=>t=e.useRoute,e=>r=e.ErrorBoundary,e=>(o=e.useIsDiningClubFeatureEnabled,s=e.useIsDiningClubMemberLoggedIn),e=>u=e.useQuery,e=>d=e.default,e=>c=e.default,e=>g=e.default,e=>v=e.CloseButton,e=>h=e.default,e=>b=e.default,e=>f=e.useInteractionLogger,e=>(m=e.jsx,C=e.jsxs)]]},["1o4yt4","fgwvq1","nbuwox","1cwn4k","1mqwhq","1essqv","jppfwt","34bu7w","1uzmmz","17thqz","1m5udk","16676n","121h32"]]);
