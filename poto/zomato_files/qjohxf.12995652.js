(this.$WP=this.$WP||[]).push(["qjohxf",(e,r)=>{"use strict";var t,n,a,i,o,s,l,u,c,d,h,p,m,g,v,f,P,y,b,I,S,A,T,E,C,R,w,M,N,j,D,O,k,U,x,L,_,q,z,V,$,H,G,F,W,B,K,J,Y,X,Q,Z,ee,re,te,ne,ae,ie,oe,se,le,ue,ce,de,he,pe,me,ge,ve,fe,Pe,ye,be,Ie,Se,Ae,Te,Ee={__key:0xd75d4d12e01b,id:"d75d4d12e01b7ee3e966bf42f954abc0",loc:{},definitions:[]},Ce={__key:57199890449091,id:"3405e326c2c3293d928cc2d4e49569ce",loc:{},definitions:[]},Re=(e,r)=>{var t=E(),a=y(),{userAgentCategory:i,browser:o,os:s}=v(),l=C(),u=M(),c=m(),d=h(Ce);n((()=>{var n=Date.now();d({clientPageViews:{clientRequestTimestampMs:n,request:[{eventTimestampMs:n,identifierType:"TA_PERSISTENTCOOKIE",locale:t,userId:u,sessionId:c,origin:location.origin,page:e.page,params:Object.entries(e.params).map((([e,r])=>({key:e,value:"object"!=typeof r?String(r):JSON.stringify(r)||""}))),path:e.path,referrer:document.referrer,route:JSON.stringify(e),currency:l,uid:r,userAgent:navigator.userAgent,viewportCategory:a,userAgentCategory:i,browserType:o.family,browserVersion:String(o.majorVersion),osType:s.family}]}})}),[r])},we=()=>Math.floor(Math.random()*2**32).toString(16).padStart(8,"0"),Me=e=>{var r,t=(null!=(r=(()=>{var e="undefined"!=typeof document?document.cookie.split(";").find((e=>e.includes("TASID="))):null;if(!e)return null;try{return e.split("=")[1]}catch(r){return console.error(`Unable to parse TASID cookie: '${e}'`),null}})())&&/[A-F0-9]{32}/.test(r)?r:null)||(we()+we()+we()+we()).toUpperCase();return"undefined"!=typeof document&&(document.cookie=`TASID=${t}; Domain=${e}; Path=/; Max-Age=1800; Secure`),t},Ne=["NotFound","InternalError","ClientRedirect"],je=(e,r)=>`${-1===e.indexOf("#")?e:e.split("#")[0]}${""!==(r||"")?`#${r||""}`:""}`,De=({bootstrapRoute:e,bootstrapUid:r,bootstrappedServerSideCanonicalized:l,onSessionIdChanged:u,children:c})=>{var[d,p]=a(e),[m,g]=a(r),[v,f]=a(!!l),P=i("INITIAL"),y=i(""),b=h(Ee),I=M(),A=S(),T=i(!1),E=o(((e,r="PAGE_VIEW",t=!1)=>{T.current||f(!1),d.page!==e.page||!z(d.params,e.params)||"PAGE_VIEW"!==r&&"PARAM_UPDATE"!==r?P.current=r:P.current=d.fragment!==e.fragment?"FRAGMENT_PUSH":"IN_PLACE";var n=t||"PAGE_VIEW"===P.current||"POP"===P.current||"PARAM_UPDATE"===P.current;(n||"INITIAL"===P.current)&&("referrer"in e&&null!=e.referrer&&(y.current=e.referrer),((e,r,t,n,a,i)=>{var o=Date.now();e({navigations:{clientRequestTimestampMs:o,request:[{eventTimestampMs:o,fromPage:t.page,fromParams:Object.entries(t.params).map((([e,r])=>({key:e,value:"object"!=typeof r?String(r):JSON.stringify(r)||""}))),fromPath:t.path,fromRoute:JSON.stringify(t),identifierType:"TA_PERSISTENTCOOKIE",navigationType:"PAGE_VIEW"===a||"FRAGMENT_PUSH"===a||"PARAM_UPDATE"===a||"IN_PLACE"===a?"USER_INITIATED":a,opaqueIds:i?[{key:"MEMBER_UID",value:i}]:[],origin:location.origin,referrer:document.referrer,toPage:n.page,toParams:Object.entries(n.params).map((([e,r])=>({key:e,value:"object"!=typeof r?String(r):JSON.stringify(r)||""}))),toPath:n.path,toRoute:JSON.stringify(n),uid:r,userAgent:navigator.userAgent}]}})})(b,m,d,e,P.current,I)),p({page:e.page,params:e.params,path:je(e.path,e.fragment),fragment:e.fragment}),n&&(null==u||u(ve(A)),g(W()))}),[u,A,b,d,m,I]),C=o(((e,r="FRAGMENT_PUSH")=>{d.fragment!==e&&(P.current=r,p({...d,path:je(d.path,e),fragment:e||""}))}),[d]),R=t.useCallback((()=>{try{var e;history.replaceState({...history.state,scrollY:window.scrollY},"",(null==(e=history.state)?void 0:e.path)||d.path)}catch(e){console.error("Caught exception while accessing History API:",e)}}),[d.path]),w=B(R,300),N=i("");n((()=>(N.current=window.location.hash,y.current=document.referrer||"","scrollRestoration"in history&&(history.scrollRestoration="manual"),window.addEventListener("scroll",w),()=>{window.removeEventListener("scroll",w)})),[w]);var j=i(null),D=q();n((()=>{var e,r=null==(e=history.state)?void 0:e.scrollY;null==r||"POP"!==P.current&&"INITIAL"!==P.current||window.scroll(0,r);try{if("INITIAL"===P.current)history.state&&"referrer"in history.state&&history.state.referrer&&(y.current=history.state.referrer),history.replaceState({...d,referrer:y.current},"",d.path);else if("FRAGMENT_PUSH"===P.current)history.pushState({...d,referrer:y.current},"",d.path);else if("PARAM_UPDATE"===P.current){var t;y.current=`https://${A}${(null==(t=j.current)?void 0:t.path)||"/"}`,history.pushState({...d,referrer:y.current},"",d.path)}else if("PAGE_VIEW"===P.current){var n;y.current=`https://${A}${(null==(n=j.current)?void 0:n.path)||"/"}`,history.pushState({...d,referrer:y.current},"",d.path),window.scroll(0,0)}else"IN_PLACE"===P.current&&history.replaceState({...d,referrer:y.current},"",d.path)}catch(e){console.error("Caught exception while accessing History API:",e)}}),[d,A,D,E]);var O=i(E);n((()=>{if(Object.defineProperty(document,"referrer",{configurable:!0,get:()=>y.current}),""!==N.current){var e=$(`${window.location.pathname}${window.location.search}${N.current}`);e&&(T.current=!0,O.current(e,"INITIAL"))}}),[]),n((()=>{Ne.includes(d.page)||T.current?T.current=!1:(v||"INITIAL"!==P.current&&"PAGE_VIEW"!==P.current&&"POP"!==P.current&&"PARAM_UPDATE"!==P.current||H(D,d,"PARAM_UPDATE"===P.current).then((e=>{var r;z(d,e)||(null!=(r=V.get(e.page))&&r.isClientNavigable({sourcePage:d.page})?(P.current="IN_PLACE",z(d.params,e.params)?p({...e,params:d.params}):p(e)):window.location.href=e.path)})),P.current="PAGE_VIEW",j.current=d)}),[d,A,D,v,E]),Re(d,m);var k=s((()=>Object.freeze({route:G(d),navigate:E,navigateToFragment:C,uid:m})),[d,m,E,C]);return K(F,{value:k,children:c})},Oe=({locale:e,children:r})=>{var{userSelectedCurrencyOverride:t}=j().preferences,n=s((()=>{var r,n,a=null!=(r=null!=t?t:null==(n=X[e])?void 0:n.currency)?r:"USD";return"RMB"===a&&(a="CNY"),{locale:e,currency:a}}),[e,t]);return K(R,{value:n,children:r})},ke=()=>Q({isEnabled:!0,param:"geoId",pages:["AttractionsFusion"],locales:["en-CA"],modDataMap:new Map([["en-CA",{mod:163,modSet:[0,1,2,3,6,7,8,16,17,21,23,26,29,33,36,37,38,39,42,44,47,48,61,63,64,66,67,68,70,71,72,74,75,76,77,79,80,85,87,89,90,92,95,98,99,101,103,104,105,108,109,110,112,114,115,118,119,120,121,123,124,126,129,131,132,134,135,137,140,142,143,146,149,150,152,153,155,156,157,158,159,160]}]])}),Ue=(e,r,t)=>{var a=Z(),i=ye();n((()=>{if(a||i){for(var n=[],o=null!=r?r:[],s=function(r){var a=o.slice(r,r+10);n.push(requestIdleCallback((()=>{var r;null==(r=document.head)||r.append(...a.map((r=>{var n=document.createElement("link");return n.rel="prefetch",n.as=t,n.href=`${e}/${r}`,n})))})))},l=0;l<o.length;l+=10)s(l);return()=>{n.forEach((e=>cancelIdleCallback(e)))}}}),[e,r,t,a,i])},xe=e=>{var r,t;return be(e.prefix,null==(r=e.assets)?void 0:r.css,"style"),be(e.prefix,null==(t=e.assets)?void 0:t.js,"script"),null},Le=e=>{var r=i({});0===Object.keys(r.current).length&&(r.current={...e.messages});var[t,n]=a(!1),o=s((()=>({getMessage:e=>r.current[e]||null,loadMessages:e=>{Object.entries(e).forEach((([e,t])=>{r.current[e]=t}))},showTranslationKeys:t,toggleShowTranslationKeys:()=>n((e=>!e))})),[t,n]),[l,h]=a((()=>e.sessionId||ve(e.domainName))),m=s((()=>{var r;return Object.freeze({...e.lithiumBootstrap,serviceCalls:e.urqlSsrData&&e.urqlSsrData.extensions&&e.urqlSsrData.extensions.serviceTimings?Object.freeze([Object.freeze({timing:Object.freeze(e.urqlSsrData.extensions.serviceTimings),loaders:Object.freeze(null==(r=e.urqlSsrData.extensions)?void 0:r.loaders)})]):[]})}),[e.lithiumBootstrap,e.urqlSsrData]),[v,y]=a(e.userId),S=s((()=>({userId:v,authenticate(e){void 0!==e.userId&&y(e.userId)}})),[v]),E=s((()=>({TAUD:null,...e.cookies})),[e.cookies]),C=i(null);null===C.current&&(C.current=p({ssrData:e.urqlSsrData,initialPvid:e.route[1].uid,securityToken:e.securityToken}));var R=Object.freeze(e.userAgent);return Object.freeze(R.os),Object.freeze(R.browser),Object.freeze(R.renderEngine),Object.freeze(R.jsEngine),K(O,{children:K(D,{taud:E.TAUD,children:K(Pe,{locale:e.locale,children:K(A,{value:e.domainName,children:K(T,{value:e.cdnPrefix,children:K(f,{value:R,children:K(P,{value:e.securityToken,children:K(N,{value:S,children:K(d,{client:C.current,children:K(b,{children:K(I.Provider,{value:m,children:K(g,{value:l,children:J(fe,{bootstrapRoute:e.route[0],bootstrapUid:e.route[1].uid,bootstrappedServerSideCanonicalized:e.serverSideCanonicalized,onSessionIdChanged:h,children:[K(Ie,{prefix:e.cdnPrefix,assets:e.assets}),K(w.Provider,{value:o,children:J(x,{children:[K(U,{lazyChunkIds:e.lazyChunkIds,appVersion:m.version,assets:e.assets}),K(u,{children:K(c,{children:K(k,{initialThemeStore:e.themeStore,children:e.children})})})]})})]})})})})})})})})})})})})})},_e=()=>{var{mode:e,setMode:r}=l(_);return J("div",{children:[K("h3",{children:"Hot Module Reload"}),K("p",{children:"Hot Module Reload is currently available for this application."}),J(ce,{name:"hmrRadio",ariaLabelledBy:"hmrRadioLabel",children:[K("b",{id:"hmrRadioLabel",children:"When a module needs to be reloaded:"}),K(de,{value:"module",selected:"module"===e,onSelect:()=>r("module"),label:J(Y,{children:["Use"," ",K("a",{href:"https://github.com/facebook/react/issues/16604#issuecomment-528663101",children:"react fast-refresh"})," ","to reinitialize the module in place"]})}),K(de,{value:"document",selected:"document"===e,onSelect:()=>r("document"),label:"Refresh the underlying document"}),K(de,{value:"ignore",selected:"ignore"===e,onSelect:()=>r("ignore"),label:"Ignore it"})]})]})},qe=()=>(he("HMR",Ae),null),ze=()=>L()?K(qe,{}):null,Ve=({children:e})=>{var{login:r}=oe();return K(ae.Provider,{value:r,children:e})},$e=({children:e})=>(n((()=>{var e=document.cookie.split(";").filter((e=>e.trim().startsWith("EVT=")));e.length>0&&re(new URLSearchParams(e[0].split("=")[1].split("*").map((e=>{var[r,t]=e.split(".",2);return[r,t]}))))}),[]),Te.useIsomorphicIncrement(1),J(ee,{children:[K(se,{}),K(te,{children:J(le,{children:[K(ze,{}),K(Ve,{children:K(ie,{children:K(ne,{children:e})})})]})}),K(ue,{})]}));return[()=>{ve=Me,fe=De,Pe=Oe,ye=ke,be=Ue,Ie=xe,Se=Le,Ae=K(_e,{}),Te=new pe({metricName:"1ItPi6291mgUX3pmUpNDSsfmvEFxiV4K34cxN6guTx01xRfl7e4nVd9GKAvRnh4o",version:0,additionalLabels:["1ItPi6291mgUX3pmUpNDSrQC2e3FptICirP/9PT4nx1Dpa7sVgfT7EbUV+bLw5ErNvVZjTPjvBCLu33fU13esg=="],labelHooks:[me,ge]}),e({LithiumContainer:Se,TripadvisorPage:$e,lithiumIdentifierPrefix:"lithium-",usePageViewLogging:Re})},[e=>(t=e,n=e.useEffect,a=e.useState,i=e.useRef,o=e.useCallback,s=e.useMemo,l=e.useContext),e=>u=e.KeyboardNavigationModeProvider,e=>c=e.CartHeaderProvider,e=>(d=e.default,h=e.useStatelessMutation),e=>p=e.buildUrqlClient,e=>(m=e.useSessionId,g=e.SessionProvider),e=>(v=e.useUserAgent,f=e.UserAgentProvider),e=>P=e.SecurityTokenProvider,e=>(y=e.useViewportCategory,b=e.ViewportCategoryProvider),e=>I=e.LithiumBootstrapContext,e=>(S=e.useDomainName,A=e.DomainNameProvider),e=>T=e.CdnPrefixProvider,e=>(E=e.useLocale,C=e.useCurrency,R=e.I18nProvider,w=e.Messages),e=>(M=e.useUserId,N=e.UserProvider),e=>(j=e.useTravelInfo,D=e.LithiumTravelInfoProvider),e=>O=e.ErrorBoundary,e=>k=e.LithiumThemeProvider,e=>U=e.default,e=>(x=e.HotModuleReloadControlContextProvider,L=e.useIsHotModuleReloadEnabled,_=e.HotModuleReloadControlContext),e=>q=e.useClient,e=>z=e.default,e=>V=e.pages,e=>($=e.getRouteFromPath,H=e.tryToCanonicalizeRoute,G=e.freezeRoute,F=e.RouteProvider),e=>W=e.generatePuid,e=>B=e.useDebouncedCallback,e=>(K=e.jsx,J=e.jsxs,Y=e.Fragment),e=>X=e.pointsOfSale,e=>Q=e.useModTest,e=>Z=e.useIsRobotSafe,e=>ee=e.PageViewLogger,e=>re=e.enqueue,e=>te=e.MonikerConfiguration,e=>ne=e.PopupHierarchyLithiumProvider,e=>ae=e.Login,e=>ie=e.AdServerProvider,e=>oe=e.default,e=>se=e.LithiumConsentProvider,e=>le=e.default,e=>ue=e.GoogleTagManager,e=>(ce=e.RadioGroup,de=e.RadioButton),e=>he=e.useDebugPane,e=>(pe=e.Counter,me=e.useSourceLabel,ge=e.useRenderLabel)]]},["1o4yt4","12r4qu","1ar2as","1fbuhs","1f7mzg","1al4vi","1nnprh","ahlu9q","1ys6v1","p5p2yo","qlcuu5","1s6q22","17thqz","52far5","1etaac","nbuwox","1g05ql","vbk5jk","1t9nvq","1mqwhq","b5nukb","u5g3tb","fgwvq1","euvz30","dsbyen","121h32","1gyzem","46822j","1mb2nz","1vumu0","32pwc7","1emwhd","1xo1is","lchj5q","iog21h","rdycz1","ax76gg","vjlqzu","1904jn","frf6ac","1uvk21","183pm0"]]);
