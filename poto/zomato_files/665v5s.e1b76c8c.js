(this.$WP=this.$WP||[]).push(["665v5s",(e,r)=>{"use strict";var t,i,s,o,n,a,l,d,p,c={__key:47869923082862,id:"2b8995c2c26e722fd22eb1cf8c527a57",loc:{},definitions:[]},u=e=>{var{children:r,...t}=e;return o(d,{value:t,children:r})},I=({source:e,attributes:r,children:t})=>{var a=i.useContext(l),[d,p]=i.useState(),[I,m]=i.useState(!1),h=!(Object.keys(a).length>0)||a.isImpressionLogged,[,T]=s(c),v=a.impressionId||null,g=r[e],L=JSON.stringify(r),b=i.useMemo((()=>({[e]:r[e],parentId:v})),[e,v,L]);return i.useEffect((()=>{h&&(m(!1),T({impressions:[b]}).then((({data:e})=>{if(e){var r=e&&e.logImpressions&&e.logImpressions[0];r&&(p(r),m(!0))}})))}),[h,b,T]),g?o(u,{impressionId:d,isImpressionLogged:I,children:t}):o(n,{children:t})},m=({trip:e,children:r,element:i,detailId:s,placeType:n})=>{var a=e.status||void 0;return o(p,{source:"tripsDetail",attributes:{tripsDetail:{tripId:e.id,status:a,relation:t(e),collaborative:!!e.collaborators&&e.collaborators.length>0,element:i,detailId:s,placeType:n}},children:r})},h={ALL_TRIPS:"ALL",PUBLIC_TRIPS:"PUBLIC",PRIVATE_TRIPS:"PRIVATE"},T=({trips:e,filterSelected:r,children:t})=>o(p,{source:"tripsHome",attributes:{tripsHome:{hasTrips:e&&e.length>0,filter:h[r]||"ALL"}},children:t}),v=({element:e,trip:r,trips:t,item:i,children:s})=>{var n=t?t.length>0:void 0,a=r&&void 0!==n?((e,r)=>r?e?e&&e.owner&&!e.owner.isMe?"COLLABORATOR":e&&e.collaborators&&e.collaborators.length>0?"COLLABORATED":"EXISTING":"NEW":"FIRST")(r,n):void 0;return o(p,{source:"trips",attributes:{trips:{element:e,tripId:r&&r.id,tripType:a,hasTrips:n,dated:r&&!!r.date&&(!!r.date.to||!!r.date.from||!!r.date.duration),isSaved:i&&i.saved}},children:s})};return[()=>{a=Object.freeze({}),l=i.createContext(a),({Provider:d}=l),u.defaultProps={impressionId:void 0,isImpressionLogged:!1},p=I,e({TrackingImpressionContextProvider:u,TripTrackingImpression:l,TripsDetailImpression:m,TripsHomeImpression:T,TripsImpression:v})},[e=>t=e.userRelation,e=>i=e,e=>s=e.useMutation,e=>(o=e.jsx,n=e.Fragment)]]},["1iyqcw","1o4yt4","1mqwhq","121h32"]]);
