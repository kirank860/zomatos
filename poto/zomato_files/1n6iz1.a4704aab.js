(this.$WP=this.$WP||[]).push(["1n6iz1",(e,i)=>{"use strict";var a,s,n,o,t,r,l,d,u,c,h,v,g,m,p,b,f,N,E,y,S,T,k,w,R,x,A,_,H,F,C,D,O,P,j=e=>{var{isOptimusEnabled:i,isOptimusSubscribed:s,fetching:n}=N(),o=b(),t=E(!i||s||!e.includes("Nova")||"en-US"!==o);return a((()=>s||!i?{fetching:n||t.fetching,targeting:"false"}:{fetching:n||t.fetching,targeting:t.cashbackEnabled?"Cashback":"Discount"}),[s,i,n,t])},z=["Hotels","HotelsList","HotelsNear","HotelHighlight","SmartDeals","Hotel_Review","ShowUserReviews","Home","ShowForum","ShowTopic"],L=e=>{var{page:i}=m(),a=y({experimentKeys:["nova_house_ads_holdback_1645552353"]},!z.includes(i)||!e.endsWith("Nova"));return null===a?{isNovaHoldbackEnabled:!1,fetching:!0}:{isNovaHoldbackEnabled:"test"===(null==a?void 0:a.nova_house_ads_holdback_1645552353)&&e.endsWith("Nova"),fetching:!1}},V={novaAd:"VnzpY",square:"ZzXVA",ad:"RnYjA f j u",empty:"ZWKar Xd P0 o",fixMarginBottom:"DLdTM",withMargin:"giWkJ"},B=["Home"],M=({position:e,children:i,aboveTheFold:s=!1})=>{var n=m(),o=b(),t=p(),r=B.includes(n.page)?"3x3":{MOBILE:"300x250|8x8|3x3",TABLET:"728x90|3x3",DESKTOP:"728x90|3x3"}[t],{ref:d,id:u,isEmpty:c,isRendered:g,shouldRenderFallback:f,isDisabled:N}=h({size:r,position:e,aboveTheFold:s,refreshType:"NO_REFRESH"}),E=a((()=>(e=>{switch(e){case"AttractionsFusion":return"fixMarginBottom";case"Hotels":return"withMargin";default:return""}})(n.page)),[n.page]),y=f&&g&&c;return N?null:T("div",{className:l(V.novaAd,{[V[E]]:E}),children:[y&&!i&&S(v,{position:e,locale:o,page:n.page}),y&&i,S("div",{id:u,ref:d,className:l(V.ad,{[V.empty]:c})})]})},U=e=>S("div",{className:l(V.square,V.novaAd),children:S(g,{position:"RailNova",size:"300x250|300x600|3x3",isSticky:e.isSticky})}),W=e=>{var{position:i}=e;return T("div",{"data-automation":`nova-ad-${i}`,children:["InlineNova"===i&&S(M,{...e}),"RailNova"===i&&S(U,{...e})]})},I=e=>{var i=d(),a=j(e.position),s=H(e.position),n=e.additionalTargeting?{...e.additionalTargeting,PlusEligible:a.targeting,NovaTest:String(s.isNovaHoldbackEnabled)}:{PlusEligible:a.targeting,NovaTest:String(s.isNovaHoldbackEnabled)};return!i||a.fetching||s.fetching?null:S(c,{value:n,children:S(W,{...e})})},q=({position:e,...i})=>S(u,{position:e,children:S(I,{position:e,...i})}),K=({theme:e,onClose:i})=>{var{localize:a}=f();return S("button",{className:l("VtDrB B- _S G-",{EkNQV:"sand"===e,LYjLi:"mint"===e,gopkK:"juniper"===e}),onClick:i,"aria-label":a.string("common_Close"),type:"button",children:S(_,{})})},Y=({maxViews:e,storageKey:i,theme:a="mint",onClose:s,onVisible:n,children:l})=>{var{isWebview:d}=A(),[u,c]=o(!1),h=x((()=>{n&&n()})),v=t((()=>{c(!1),R.set(i,e),s&&s()}),[e,s,i]);return r((()=>{var a=R.has(i)?parseInt(R.get(i),10):0;a<e&&(c(!0),R.set(i,a+1))}),[e,i]),!u||d?null:T(D,{theme:a,ref:h,children:[S("div",{className:"GqDUn _U t",children:S(O,{theme:a,onClose:v})}),S("div",{className:"GNxwY w",children:l})]})},G="SUNova",J=({onDismiss:e})=>{var{page:i}=m(),a=k(),s=e=>{a({module:"Nova_Forum",context:i,action:e})},{ref:n,id:o,isEmpty:t,isLoaded:d,isDisabled:u}=h({size:"3x3",position:G,aboveTheFold:!0,refreshType:"NO_REFRESH"});return r((()=>{u&&e&&e()})),u?null:S("div",{className:l({fdTDu:!d||t}),children:S(P,{storageKey:"novaForumViewCount",maxViews:2,theme:"nova",onVisible:()=>{s("Nova_Forum_seen")},onClose:()=>{s("Nova_Forum_closed")},children:S("div",{ref:n,id:o,className:l("WanOy")})})})},Z=({onDismiss:e})=>{var i=j(G),a=H(G);if(i.fetching||a.fetching)return null;var s={fluidType:"nova",PlusEligible:i.targeting,NovaTest:String(a.isNovaHoldbackEnabled)};return S(u,{position:G,children:S(c,{value:s,children:S(J,{onDismiss:e})})})},Q=()=>{var e="nova-ads";return w({factory:({dismiss:e})=>(e=>S(Z,{onDismiss:e}))(e),eventTypes:[e],key:e,tier:600}),null},X=["MOBILE"],$=["Tourism","Hotel_Review","Restaurants","Restaurants_Review","ShowForum","ShowTopic"],ee=["en-US","fr-FR","en-AU","en-GB","en-CA","fr-CA","es-MX","it-IT","es-ES","ja-JP","ko-KR","zh-Hant-TW","en-IN","de-DE","nl-NL","pt-BR"],ie=()=>{var e=m(),{page:i,params:a}=e,{userAgentCategory:s}=A(),n=p(),o=b();return 14281!==(("ShowTopic"===i||"ShowForum"===i)&&a.forumId||0)&&("en-US"===o||!!(X.includes(s)&&X.includes(n)&&ee.includes(o)&&$.includes(i)))};return[()=>{H=L,F=s(q),(C=n((({theme:e,children:i},a)=>S("div",{ref:a,className:l("QYpDj f o D s Za",{ZJOYm:"mint"===e,tgbJQ:"sand"===e,ATqso:"juniper"===e,APNAO:"nova"===e}),role:"dialog",children:i})))).displayName="PromoContentContainer",D=C,O=K,P=Y,e({NovaStickyAd:Q,default:F,useNovaAd:ie})},[e=>(a=e.useMemo,s=e.memo,n=e.forwardRef,o=e.useState,t=e.useCallback,r=e.useEffect),e=>l=e.default,e=>d=e.useIsMounted,e=>(u=e.AdErrorBoundary,c=e.AdTargetingProvider,h=e.useAd,v=e.FallbackSelector,g=e.RailAd),e=>m=e.useRoute,e=>p=e.useViewportCategory,e=>(b=e.useLocale,f=e.useLocalize),e=>N=e.useOptimusEnabledForUser,e=>E=e.useCashbackEnabled,e=>y=e.default,e=>(S=e.jsx,T=e.jsxs),e=>k=e.useGARecorder,e=>w=e.usePopupHierarchyRender,e=>R=e.default,e=>x=e.useOnVisible,e=>A=e.useUserAgent,e=>_=e.default]]},["1o4yt4","fkji80","1mb2nz","19m912","fgwvq1","1ys6v1","17thqz","14tv4a","17g0c7","gugp1d","121h32","32pwc7","1xo1is","19b9b1","13btuy","1nnprh","1qkjm8"]]);
