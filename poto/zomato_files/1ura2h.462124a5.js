(this.$WP=this.$WP||[]).push(["1ura2h",(e,r)=>{"use strict";var i,o,t,s,l,a,c,n,f,p,d,m,u,v,h,g,k,O,_,C,w,P="YuuHT w",b=(e,r)=>{e.persist();var{require:i}=window;i&&i(["trjs!commerce/offerclick"],(i=>{i.clickEvent(e.nativeEvent,e.currentTarget,r)}))},y=e=>{var r=p(e.offers),g=d(e.offers),k=!!(g&&r&&.97*g.price>r.price),O=l(),_=i(e.trackingProps),C=u(),{page:w}=m(),b=o(),y=!!C,{listingKey:I,locationId:N}=e;if(e.undatedCommerceRemovalEnabled)return v("div",{className:"YADjJ v",onClick:r=>{r.stopPropagation(),r.preventDefault(),e.onOfferClick(r,"")},children:[h("div",{className:"YMAjg F1",children:h(a,{variant:"supporting-02",color:"secondaryText",children:h("div",{className:"c",children:h(s,{id:"hsx_remove_commerce_show_prices_subheader"})})})}),h("div",{className:"Lsliv F1 NM",children:h(t,{size:"small",variant:"commerce",legacyStyled:!0,children:h(s,{id:"hsx_remove_commerce_show_prices_button"})})})]});if(r){var S=O.formatCurrencyInteger(r.price),T=i=>{_(),e.preOfferClick&&e.preOfferClick(r),e.onOfferClick(i,r.offerClickToken),(e=>{e.stopPropagation()})(i)},q=!e.suppressCommerce,H=!q||null!=r&&r.isOptimusOffer?r=>((e,r,i)=>{_(),window.open(r,"_blank"),e.stopPropagation()})(r,e.hotelReviewUrl):T,R=H;r.isOptimusOffer&&(R=e=>{((e,r,i)=>{e.persist(),r?globalThis.require(["trjs!commerce/offerclick"],(e=>{var o=e.expandToken(r);i(o.ik)})):i(null)})(e,r.offerClickToken,(i=>{b({Hotels:{ViewDealClick:{action:"HR",isMemberSignedIn:y,funnelKey:i,servletName:w,savingsAmount:r.savingsPrice,locationId:N,listingKey:I}}}),H(e)}))});var x=r.isOptimusOffer?h(c,{offer:r}):h(n,{commerceSupport:q,bestOffer:r,worstOfferPrice:g?g.price:void 0,showWorstOffer:k,priceSize:e.priceSize,premiumPrice:S,onOfferClick:T}),z=h(f,{offer:r,disableTooltip:e.disableOptimusPerkTooltip,hotelReviewUrl:e.hotelReviewUrl});return v("div",{className:P,children:[h("div",{className:"bQSEt F1 q o W",children:x}),h("div",{className:"CJzwW",children:v(t,{onClick:R,legacyStyled:!0,variant:"commerce",size:"small",children:[h(s,{id:"view_deal_button_cta"})," "]})}),h("div",{className:"nqxyG",children:r&&r.isOptimusOffer&&z})]})}var j=e.offers&&0===e.offers.length?h(s,{id:"meta_ui_contact_hotel_c2b"}):h(s,{id:"no_availailability_from_partners"});return h("div",{className:P,children:h("span",{className:"S2 H1 Ci",children:j})})},I=e=>{var[r,i]=k(1),o=m(),t=()=>{i(r+1)},{locationId:s}=e,l=0===o.page.trim().length?"WebComponentMap":o.page;return h(C,{url:`/data/1.0/mapsEnrichment/hotel/${s}?rn=${r}&rc=${l}&stayDates=&guestInfo=`,parser:(e,i)=>{if(e){var{hotels:o,hacStatus:t}=e,s=t&&(t.isHacComplete||t.hacPercentComplete>90);if(o&&1===o.length){var l=o[0];return{offers:l.offers&&l.offers.filter((e=>!!e.providerInfo)).map((e=>({offerClickToken:e.offerClickToken,price:e.price,status:e.status,provider:e.providerInfo.name,isInstantBook:e.providerInfo.isInstantBook}))),complete:s||r>=5}}}return{offers:[],complete:!!i}},children:i=>{var o,{loading:s,data:l}=i;return o=l&&(l.complete||p(l.offers||[]))?h(w,{locationId:e.locationId,offers:l.offers||[],trackingProps:e.trackingProps,hotelReviewUrl:e.hotelReviewUrl,suppressCommerce:e.suppressCommerce,listingKey:e.listingKey}):h("div",{style:{width:"100%"},children:h(_,{size:"small"})}),v(g,{children:[h(O,{loading:s,complete:!!l&&l.complete,requestNumber:r,poll:t}),o]})}})};return[()=>{y.defaultProps={offers:[],trackingProps:{module:"maps_hotel_offer",action:"commerce_click"},onOfferClick:b,preOfferClick:()=>{},priceSize:20},w=y,I.defaultProps={trackingProps:{module:"deferred_hotel_offer",action:"commerce_click"}},e({DeferredHotelOffer:I,HotelOffer:w})},[e=>(i=e.useGARecordCallback,o=e.useInteractionLogger),e=>t=e.default,e=>(s=e.default,l=e.useIntlFormatter),e=>a=e.default,e=>(c=e.OptimusHotelOfferPrice,n=e.HotelOfferPrice,f=e.OptimusHotelOfferMessage),e=>(p=e.findFirstOffer,d=e.findWorstOffer),e=>m=e.useRoute,e=>u=e.useUserId,e=>(v=e.jsxs,h=e.jsx,g=e.Fragment),e=>k=e.useState,e=>O=e.default,e=>_=e.LoadingSpinner,e=>C=e.default]]},["32pwc7","jppfwt","17thqz","1essqv","1ptgvq","14f7bl","fgwvq1","52far5","121h32","1o4yt4","10l1dx","1l9qeu","1lm2md"]]);
