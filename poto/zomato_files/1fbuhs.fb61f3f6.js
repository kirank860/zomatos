(this.$WP=this.$WP||[]).push(["1fbuhs",(e,r)=>{"use strict";var t,a,i,n,s,o,c,u,l,h,d,v,y,f,p,g,b,m,k,P,q,x,w,E,C,S,Q,R,A,F,M,O,j,B,I,T,W,z,D,N,J,V,H,L,U="invalidationPredicates",$=(e,r)=>{var a=e.executeWhen||"immediately",i=u.useMemo((()=>({[U]:r})),[...Object.keys(r)]);return t({variables:e.variables,query:e.query,requestPolicy:"afterInvalidation"===a?"cache-only":e.requestPolicy,pause:"never"===a,context:i})},G=({children:e,invalidationPredicates:r,...t})=>{var[a,i]=$(t,r);return e({...a,executeQuery:i})},X=(e,r,t)=>e.executeQuery(a(r.query,r.variables),{...r.opts,[U]:t}),Y=(e,r)=>e.reexecuteOperation({...r,context:{...r.context,requestPolicy:"network-only"}}),K=0,Z={},_=e=>()=>r=>p(r,m((r=>Z[r.key]?(Z[r.key].error&&e(r,Z[r.key].error),{operation:r,...Z[r.key],...Z[r.key].data?{data:JSON.parse(Z[r.key].data)}:{}}):(K++,W.has(r.key)||W.set(r.key,{...r,operationName:void 0}),null))),g((e=>null!==e))),ee=(e,r)=>{var t=Array.from(W.keys());return e.forEach(((e,r)=>{var a=t[r];Z[a]={...e,data:JSON.stringify(e.data),errors:void 0,error:Array.isArray(e.errors)?new i({graphQLErrors:e.errors}):void 0}})),Z.extensions=r,e},re=e=>W.size?Q(e,Array.from(W.values())).then((({gqlResults:e,extensions:r})=>ee(e,r)),(e=>{console.error("ssrFetchExchange error from makeGraphQlCall:",e),Array.from(W.keys()).forEach((r=>{Z[r]={data:null,fetching:!1,error:new i({networkError:e})}}))})):Promise.resolve(),te=()=>Z,ae=()=>Array.from(W.values()),ie=()=>K,ne=({query:e,variables:r,combineData:t,showFetchingAfterFirstQuery:i,invalidationPredicates:s={},executeWhen:o,requestPolicy:c})=>{var u=l(n),[v]=$({query:e,variables:r,executeWhen:o,requestPolicy:c},s),[y,f]=h(r),[g,b]=h(v);return d((()=>{f(r),b(v)}),[v.data,v.fetching,a(e,r).key]),[g,(r,a)=>{var n={...y,...r};f(n),i&&b({...g,fetching:!0});var o=g.data;return new Promise((r=>{p(X(u,{query:e,variables:n,opts:a},s),S((({operation:e,stale:a=!1,...i})=>{if(null!=g.data&&g.data===o){var n={...i,stale:a,fetching:!1,data:t(g.data,i.data)};b(n),r(n)}else{var s={...i,stale:a,fetching:!1};b(s),r(s)}})))}))}]},se=(e,r,t,a)=>{var i;return e?(i=(i=e.length<t?[...e]:e.slice(0,t)).concat(r)).length<e.length&&e.slice(t+a).length&&r.length&&(i=i.concat(e.slice(i.length))):i=[...r],i},oe=({query:e,variables:r,combineData:t,showFetchingAfterFirstQuery:i,invalidationPredicates:s,executeWhen:o})=>{var c=l(n),u={};s&&Object.entries(s).forEach((([e,t])=>{u[e]=t.bind(null,r)}));var[y]=$({query:e,variables:r,executeWhen:o},u),[f,g]=h(r),b=v(y),[m,k]=h(y);return d((()=>{if(g(r),b.current&&b.current.data&&r&&!y.fetching){var{data:e}=b.current;b.current={...y,data:t(e,y.data,r)}}else b.current=y;k(b.current)}),[y.data,y.fetching,a(e,r).key]),[m,r=>{var a={...f,...r};g(a),i&&(b.current={...b.current,fetching:!0},k(b.current));var n={};return Object.entries(s||{}).forEach((([e,r])=>{n[e]=r.bind(null,a)})),new Promise((r=>{p(X(c,{query:e,variables:a},n),S((({operation:e,stale:i=!1,...n})=>{if(null!=b.current.data){var s=t(b.current.data,n.data,a);b.current={...n,stale:i,data:s,fetching:!1}}else b.current={...n,stale:i,fetching:!1};k(b.current),r()})))}))}]},ce=e=>e(),ue=({query:e,variables:r,pause:a,wait:i,debounceOptions:n,requestPolicy:s})=>{var[o,c]=u.useState(void 0),[l,h]=u.useState(void 0),[d,v]=t({query:e,variables:r,pause:!0,requestPolicy:s}),y=F(ce,i,n);return u.useEffect((()=>{y&&!a&&y(v)}),[y,a,v]),u.useEffect((()=>{d.fetching||(l!==d.error&&h(d.error),o!==d.data&&c(d.data))}),[d,o,l]),{data:o,error:l}},le=(e,r,t,a,i)=>({query:e,variables:r,pause:t,requestPolicy:a,context:i}),he=(e,r)=>{var a=u.useMemo((()=>le(e.query,e.variables,e.pause,e.requestPolicy,e.context)),[e]),i=t(a),[{fetching:n}]=i;return i},de=e=>{var[r,a]=t(u.useMemo((()=>le(e.query,e.variables,e.pause,e.requestPolicy,e.context)),[e]));return R(A,{children:e.children({...r,executeQuery:a})})},ve=[1e3,2e3,4e3,4e3,4e3],ye=({query:e,variables:r,pollIntervals:i=ve,pause:n=!1,isResultComplete:s})=>{var o="function"==typeof r?r(1):r,c=a(e,o).key,[u,l]=h(o),[f,p]=h(!1),[g,b]=h(!1),[m,k]=t({query:e,variables:u,pause:n||g,requestPolicy:"network-only"}),P=v(k),q=O(c,c);g&&q===c||(P.current=k);var x=v([]),w=y((()=>{x.current.forEach((e=>clearTimeout(e))),x.current.length=0,b(!0)}),[]);d((()=>{f&&!m.fetching&&(p(!1),b(!0))}),[f,m.fetching]),d((()=>{if(w(),l(o),!n){var e=0,t=2;b(!1),p(!1),i.forEach(((a,n)=>{e+=a,x.current.push(setTimeout((e=>{"function"==typeof r?1!==e&&M(r(e),r(e+1))?P.current():l(r(e)):P.current(),n===i.length-1&&p(!0)}),e,t)),t++}))}return w}),[c,i.join(","),n,w]);var E=v(!1);return E.current=!1===m.fetching&&q===c&&s(m),d((()=>{E.current&&w()}),[m,w]),[{...m,fetching:!g&&!n&&!E.current},P.current]},fe=(e,r)=>{var[a,i]=t(e);return d((()=>{if(!a.fetching){var e=setTimeout((()=>i({requestPolicy:"network-only"})),r);return()=>clearTimeout(e)}return()=>{}}),[a.fetching,i,r]),[a,i]};function pe(e){var r=s();return y(((t,a)=>r.mutation(e,t,a).toPromise()),[r,e])}var ge=e=>{var{securityToken:r,exchanges:t}=e||{};return o({url:"/data/graphql/ids",fetchOptions:r&&{headers:{"X-Requested-By":r}}||{},exchanges:t})},be=({children:e,client:r})=>R(c,{value:r,children:e});return e("useStatelessMutation",pe),[()=>{j=class{constructor(){this.resultCache=void 0,this.invalidationPredicates=void 0,this.exchange=({forward:e,client:r})=>{var t=({kind:e})=>"mutation"!==e&&"query"!==e,a=e=>{var{key:r,kind:t,context:{requestPolicy:a}}=e;return"query"===t&&"network-only"!==a&&("cache-only"===a||this.resultCache.has(r))},i=e=>{var{operation:{key:r},data:t,error:a}=e;void 0!==t&&void 0===a&&this.resultCache.set(r,e)},n=e=>{var{key:r}=e,t=e.context.invalidationPredicates;t&&Object.entries(t).forEach((([e,t])=>{var a=this.invalidationPredicates.get(e)||new Map;a.set(r,t),1===a.size&&this.invalidationPredicates.set(e,a)}))},s=e=>{var t,a,i=new Map;(null!=(t=null==(a=e.extensions)?void 0:a.mutatedFields)?t:[]).forEach((r=>{var t=this.invalidationPredicates.get(r);t&&(Array.from(t.entries()).map((([r,t])=>{var a=this.resultCache.get(r);return[r,t({variables:e.operation.variables,data:e.data},{variables:a&&a.operation.variables,data:a&&a.data})]})).filter((([,e])=>"validate"!==e)).forEach((([e,r])=>i.set(e,r)&&t.delete(e))),0===t.size&&this.invalidationPredicates.delete(r))})),i.forEach(((e,t)=>{if(this.resultCache.has(t)){var a=this.resultCache.get(t);this.resultCache.delete(t),a&&"invalidateAndRefetch"===e&&Y(r,a.operation)}}))};return o=>{var c=f(o),u=p(c,g((e=>!t(e)&&a(e))),b((e=>n(e))),m((e=>{var{key:t,context:{requestPolicy:a}}=e,i=this.resultCache.get(t);if("cache-and-network"===a&&Y(r,e),void 0!==i)return i;var n={operation:e,data:void 0,error:void 0};return this.resultCache.set(t,n),n}))),l=p(c,g((e=>t(e)||!a(e))),b((e=>n(e))),e,b((e=>{e.operation&&"mutation"===e.operation.kind?s(e):e.operation&&"query"===e.operation.kind&&i(e)})));return k([u,l])}},this.resultCache=new Map,this.invalidationPredicates=new Map}clearCache(){this.resultCache.clear()}},T=(I={create:({forward:e})=>r=>{var t,a,i,n=f(r),s=p(n,g((e=>{var{kind:r,context:t}=e;return("query"===r||"mutation"===r)&&!1===t.batch})),P((e=>{var r=p(n,g((r=>"teardown"===r.kind&&e.key===r.key)));return p(I.createBatchFetchSource([e]),q(r))}))),o=p(n,g((e=>{var{kind:r,context:t}=e;return("query"===r||"mutation"===r||"teardown"===r)&&!1!==t.batch})),(t=E(),a=!1,i=b((()=>{a||(a=!0,setTimeout((()=>{a=!1,t.next()}),100))})),e=>C(t.source)(i(e))),P((e=>{var r=[];if(e.forEach((e=>{"teardown"===e.kind?r=r.filter((r=>r.key!==e.key)):r.push(e)})),0===r.length)return x([]);var t=new Set(r.map((e=>e.key))),a=p(n,g((e=>"teardown"===e.kind&&t.delete(e.key)&&0===t.size)));return p(I.createBatchFetchSource(r),q(a))}))),c=p(n,g((e=>{var{kind:r}=e;return"query"!==r&&"mutation"!==r})),e);return k([o,s,c])},createBatchFetchSource(e){if(e.some((e=>"subscription"===e.kind)))throw new Error("Received a subscription operation in the httpExchange. You are probably trying to create a subscription. Have you added a subscriptionExchange?");return w((({next:r,complete:t})=>{var a=new AbortController,{context:i}=e[0],n="function"==typeof i.fetchOptions?i.fetchOptions():i.fetchOptions||{},s=new Headers(n.headers);s.set("content-type","application/json");var o={body:JSON.stringify(e.map((e=>({query:e.query.id,variables:e.variables})))),method:"POST",...n,headers:s,signal:a.signal};return I.executeBatchFetch(e,o).then((e=>{e.forEach((e=>{void 0!==e&&r(e)})),t()})),()=>{a.abort()}}))},executeBatchFetch(e,r){var t,{url:a}=e[0].context;return Promise.resolve().then((()=>{var n;return null!=(n=r.signal)&&n.aborted?Array(e.length).fill(void 0):fetch(a,{...r,credentials:"same-origin"}).then((e=>(t=e,I.checkStatus(r.redirect,t),t.json()))).then((r=>r.map(((r,a)=>({operation:e[a],data:r.data,extensions:r.extensions,error:Array.isArray(r.errors)?new i({graphQLErrors:r.errors,response:t}):void 0}))))).catch((r=>"AbortError"===r.name?Array(e.length).fill(void 0):e.map((e=>({operation:e,error:new i({networkError:r,response:t})})))))}))},checkStatus(e="follow",r){var t="manual"===e?400:300;if(r.status<200||r.status>=t)throw new Error(r.statusText)}}).create,W=new Map,z=_,e("InitialPageViewMonitorExchange",B=class{constructor(e){this.resolvers=void 0,this.currentPvid=void 0,this.currentPvPromise=Promise.resolve(),this.currentPvResolver=()=>{},this.promises=[],this.collectedResolver=void 0,this.collectedCallback=null,this.exchange=({forward:e})=>r=>p(r,b((e=>{if(this.collectedResolver&&!this.collectedCallback){var r=this.collectedResolver;this.collectedCallback=requestIdleCallback(r)}e.key in this.resolvers||this.promises.push(new Promise((r=>{this.resolvers[e.key]=r})))})),e,b((e=>{this.resolvers[e.operation.key]()}))),this.currentPvid=e,this.resolvers={},this.collectedResolver=null,this.reset()}reset(){this.currentPvPromise=new Promise((e=>{this.currentPvResolver=e})),this.collectedCallback=null,this.promises=[new Promise((e=>{this.collectedResolver=()=>{this.collectedResolver=null,e()}}))]}allQueriesResolvedForPageView(e){return this.currentPvid!==e&&(this.currentPvResolver(),this.currentPvid=e,this.reset()),Promise.race([Promise.all(this.promises),this.currentPvPromise])}}),D=ne,N=oe,J=ue,V=de,H=ye,L=new j,e({InitialPageViewMonitorExchange:B,InvalidatableQuery:G,QueryRequireSsr:V,batchFetchExchange:T,buildUrqlClient:ge,debugExchange:null,default:be,denormalizedCacheExchange:L,embedArray:se,fetchSsrCacheData:te,fulfillSsrBatch:re,fulfillSsrBatchData:ee,getQueuedSsrRequestCount:ie,getQueuedSsrRequests:ae,getSsrFetchExchange:z,useDebouncedQuery:J,useIntervalQuery:fe,useInvalidatableQuery:$,useMutablePaginatedQuery:N,usePaginatedQuery:D,usePollingQuery:H,useQueryRequiredSsr:he,useStatelessMutation:pe})},[e=>(t=e.useQuery,a=e.createRequest,i=e.CombinedError,n=e.Context,s=e.useClient,o=e.createClient,c=e.Provider),e=>(u=e,l=e.useContext,h=e.useState,d=e.useEffect,v=e.useRef,y=e.useCallback),e=>(f=e.share,p=e.pipe,g=e.filter,b=e.tap,m=e.map,k=e.merge,P=e.mergeMap,q=e.takeUntil,x=e.fromArray,w=e.make,E=e.makeSubject,C=e.buffer,S=e.subscribe),e=>Q=e.default,e=>(R=e.jsx,A=e.Fragment),e=>F=e.useDebouncedCallback,e=>M=e.default,e=>O=e.default]]},["1mqwhq","1o4yt4","198810","1591iz","121h32","dsbyen","b5nukb","dlu2yg"]]);
