(this.$WP=this.$WP||[]).push(["bvvaww",(e,t)=>{"use strict";var a,r,o,n,i,s,l,d,p,u,c,v,h,g,m,f,w,b,y,P,R,I,k,C,$,S,N,T,L,M,x,E,O,B,j,H,U,_,F,V;function W(e){var t,a=t=>p(k,{children:({route:a,navigate:r,previousRoute:o,popping:n})=>p(e,{popping:n,route:a,previousRoute:o,navigate:r,props:t})});return a.displayName=`withRouteContext(${t=e,t.displayName||t.name||"UnnamedComponent"})`,a}var z=e=>(t,{tripModal:a,...r})=>{if("object"==typeof a){var{title:o,id:n,scrollToReference:i}=a;if(n){var s=`Trips/${n}`;return o&&(s+=`/${encodeURIComponent(o)}`),i&&i.type&&i.id&&(s+=`?type=${i.type}&id${i.id}`),{path:s}}}return e(t,r)},A=e=>({path:e}),G=e=>{var t={preloadForumPostIds:[],preloadLinkPostIds:[],preloadPhotoIds:[],preloadMediaBatchIds:[],preloadRepostIds:[],preloadReviewIds:[],preloadVideoIds:[]};if(!e)return t;var a=e.split("_"),r=Number(a[1]);if(!isNaN(r))switch(a[0]){case"ForumPost":t.preloadForumPostIds=[r];break;case"LinkPost":t.preloadLinkPostIds=[r];break;case"Photo":t.preloadPhotoIds=[r];break;case"Repost":t.preloadRepostIds=[r];break;case"Review":t.preloadReviewIds=[r];break;case"Video":t.preloadVideoIds=[r];break;case"MediaBatch":t.preloadMediaBatchIds=[r]}return t},D=e=>{var{modal:t,card:a}=e;return t?G(t):a?G(a):{preloadForumPostIds:[],preloadLinkPostIds:[],preloadPhotoIds:[],preloadMediaBatchIds:[],preloadRepostIds:[],preloadReviewIds:[],preloadVideoIds:[]}},J=e=>({username:e}),q=(e,t)=>({tripId:e,tripTitle:t}),K=(e,{tripId:t})=>{var a=e;return t&&(a+=`/${t}`),{path:a}},Q=e=>({tripId:e}),X=/^([^-]+)-(.*)$/,Y=/\.([a-z]*[_|.])?(?:html|xml)$/,Z=(e,...t)=>{var a,r,o=X.exec(e),n={};o&&(n={page:o[1]},o[2]&&(n={...(a=o[2],r=Y.exec(a),(r&&r.index?a.substring(0,r.index):a).split("-").filter((e=>null!==e&&""!==e)).map((e=>{var t,a=null,r=null;if(e.length>=3&&(e.startsWith("zf")||e.startsWith("zu")||e.startsWith("zr")||e.startsWith("zs")))a=e.substring(0,3),r=e.substring(3);else{if(a=e.substring(0,1),r=e.substring(1),(t=a)&&t===t.toUpperCase()&&t!==t.toLowerCase()||(e=>!isNaN(parseInt(e,10)))(a)||"_"===a)return null;a=(e=>{switch(e){case"g":return"geo";case"d":return"detail";default:return e}})(a)}return{key:a,value:r}})).reduce(((e,t)=>{if(t&&null!==t.key&&""!==t.key&&null!==t.value){var a={};return a[t.key]=t.value,{...a,...e}}return e}),{})),...n}));var i=t?t.filter((e=>""!==e)):void 0;return i&&i.length?{page:e,...n,nonEmptyPathParams:i}:{page:e,...n}},ee=/^\/([^?]+)(?:\?(.*))?$/,te=/Tourism-g(\d+)/g,ae=({page:e,...t})=>{var{path:a,...r}=(T[e]||T.default)(e,t),o=a;r.nonEmptyPathParams&&r.nonEmptyPathParams.length&&r.nonEmptyPathParams[0].match(te)&&(o=r.nonEmptyPathParams.shift(),r.nonEmptyPathParams.length||(r.nonEmptyPathParams=void 0));var n=Object.keys(r).filter((e=>void 0!==r[e])).reduce(((e,t)=>(e[t]=r[t],e)),{}),i=new URLSearchParams(n).toString();return`/${o}${i.length?"?":""}${i}`},re=e=>{var t,a,[,r,o]=ee.exec(e)||[null,"",""],[...n]=(null!=r?r:"").split("/"),i=e.match(te);if("/"===e)a="Home";else if(i&&i.length>0)a=i[0].replace("Tourism","Home");else{var s;if(!r)return null;a=null!=(s=n.shift())?s:""}var l=L[a];return t=l?{page:a,...l(...n)}:{...L.default(a,...n)},new URLSearchParams(null!=o?o:"").forEach(((e,a)=>{t[a]=e})),t},oe=["Profile","Trips","Owners","BrandOwners","ManageShopping","SpecialOfferWebview","HotelsManagementCenter","HotelsManageListing","SafetyManagementCenter","FavoriteReviewManagement","OwnerVerification","SpecialOfferManagement","ViewAchAuthorization","Starter_Packages","Recovery_Packages"],ne=(e,t=oe)=>t.includes(e),ie=(e,t=oe)=>ne(e.page,t),se=(e,t,a=oe)=>e===t||ne(e,a)&&ne(t,a),le=(e,t,a=oe)=>se(e.page,t.page,a),de=({href:e,to:t,target:a,onClick:r,children:o,className:n,title:i,label:s,dataAttributes:l,stripNoreferrerNoopener:d,dir:u,rel:v})=>{var h=t&&void 0===e?ae(t):e,g=v;return null==g&&(g="_blank"!==a||d?void 0:"noopener noreferrer"),p(k,{children:({navigate:e,route:d})=>p("a",{...c(l),rel:g,href:null!=h?h:void 0,target:a,onClick:a=>{r&&r(a),0!==a.button||a.isDefaultPrevented()||e&&t&&M(d,t)&&e(t)&&a.preventDefault()},className:n,title:i,"aria-label":s,dir:u,children:o})})},pe=(e,t)=>Object.entries(t).every((([t,a])=>a===e[t]||"function"==typeof a&&a(e[t]))),ue=e=>{var{route:t,navigate:a}=r(C),n={...t,...e},i=pe(t,Object.entries(e).reduce(((e,[t,a])=>Object.assign(e,{[t]:e=>v(a,e)})),{})),s={...t};Object.keys(e).forEach((e=>{delete s[e]}));var l=o((()=>{a(n)}),[a,n]),d=o((()=>{var e,t;null!=(null==(e=window)||null==(t=e.history)?void 0:t.state)?window.history.back():a(s)}),[a,s]);return{matches:i,to:n,without:s,open:l,close:d}},ce=({mobileTarget:e,viewportCategory:t,...a})=>{var r="MOBILE"===t&&e?e:a.target;return p(x,{...a,target:r})},ve=({route:e,props:{children:t,...a}})=>pe(e,a)&&t?p(u,{children:t}):null,he=(e,t)=>{var a=Object.entries(t);return a.length===Object.entries(e).length&&a.every((([t,a])=>e[t]===a))},ge=({route:e,props:{children:t,...a}})=>he(e,a)&&t?p(u,{children:t}):null,me=["Trips","TripsWebview","Owners","BrandOwners","HotelsManagementCenter","HotelsManageListing","SafetyManagementCenter"],fe=e=>{var[t,a]=n(null),{route:r,navigate:o,children:i}=e;return p(I,{value:{popping:!1,previousRoute:null,route:r,addBeforeNavigationCallback:e=>H.add(e),removeBeforeNavigationCallback:e=>H.delete(e),navigate:(e,n)=>{var i,{noHistory:s,reset:l}=n||{},d={...r},p=!1,u=()=>{var n,i=ae(e);s||M(d,e)||(window.location.href=i,n=!0),p&&window.history.back(),s||(me.includes(e.page)&&me.includes(r.page)&&e!==r&&window.scrollTo(0,0),n||((e,r,o=!1)=>{f({module:e.page,action:"SPA_NAVIGATION"}),"object"==typeof window&&window.history&&(o?t?window.history.back():r?(window.history.replaceState(e,"",ae(e)),a({...r})):(window.history.replaceState(e,"",ae(e)),a({...e})):(window.history.pushState(e,"",ae(e)),a({...r})))})(e,d,l)),o(e,i)};return i={to:e,continueNavigation:u},[...H].some((e=>e(i)))?s&&(window.history.pushState(d,"",ae(d)),p=!0):u(),!0}},children:i})},we={},be=(e,t)=>!!(t.exact&&he(e,t.exact)||t.match&&pe(e,t.match)),ye=(e,t,a)=>h((e=>({currentRoute:e.route})))(((e,t,a)=>{var r=new Map,o=e=>{var t,a,o=r.get(e);return null==o&&(t=e.component,o={loadable:a=new w(t),component:()=>p(b,{component:a})},r.set(e,o)),o},n=({currentRoute:t})=>{var r=e.filter((e=>be(t,e))).map(((e,t)=>s(o(e).component,{key:t})));return p(k,{children:e=>p(I,{value:{...e,navigate:(t,a={})=>e.navigate(t,{...a})},children:s(a||l,null,r)})})};return n.stage=(...t)=>{e.filter((e=>be(m().getState().route,e))).forEach((e=>{var a=o(e);a.loadable.isLoaded()&&("function"==typeof a.loadable.stage&&a.loadable.stage(...t),"function"==typeof a.loadable.get().stage&&a.loadable.get().stage(...t))}))},n})(e,0,a)),Pe=()=>{var{route:{detail:e}}=r(C);try{return parseInt(e,10)}catch(e){return console.error("Could not parse detail parameter as a number",e),null}},Re=(e=(()=>!0))=>{var{addBeforeNavigationCallback:t,removeBeforeNavigationCallback:a}=r(C),[o,i]=n();if(d((()=>{var r=t=>!!e(t.to)&&(i(t),!0);return t(r),()=>a(r)}),[e,t,a]),null!=o){var{to:s,continueNavigation:l}=o;return[s,()=>{i(null),l()},()=>{i(null)}]}return[null,()=>{},()=>{}]};return e("withRouteContext",W),[()=>{R=a({route:{},previousRoute:{},navigate:()=>{},addBeforeNavigationCallback:()=>{},removeBeforeNavigationCallback:()=>{},popping:!1}),({Provider:I,Consumer:k}=R),C=R,$=z(((e,{modal:t,card:a,username:r,fid:o,geo:n,allowedTypes:i,...s})=>{var l="",d=["LinkPost","ForumPost","Repost","Review","Photo","Video"],p=s,u=o;if(r&&"string"==typeof r){if(t&&"string"==typeof t){var c=t.split("_");l=d.includes(c[0])?`Profile/${r}/${c.join("/")}`:`Profile/${r}/${t}`,u=void 0}else if(!("tab"in s)&&a&&"string"==typeof a){var v=a.split("_");d.includes(v[0])?l+=`Profile/${r}/${v.join("/")}`:l+=`Profile/${r}/${a}`}}else n&&(l+=`Home-g${n}`);return u&&(p.fid=o),i&&(p.allowedTypes=i),{path:l,...p}})),S=z(((e,{modal:t,card:a,username:r,feedIdToRestore:o,fid:n,...i})=>{var s=e;r&&(s+=`/${r}`);var l=["LinkPost","ForumPost","Repost","Review","Photo","Video","MediaBatch"],d=i,p=n;if(t&&"string"==typeof t){var u=t.split("_");l.includes(u[0])?s+=`/${u.join("/")}`:s+=`/${t}`,p=void 0}else if(!("tab"in i)&&a&&"string"==typeof a){var c=a.split("_");l.includes(c[0])?s+=`/${c.join("/")}`:s+=`/${a}`}return p&&(d.fid=n),{path:s,...d}})),N=z(((e,{tripId:t,tripTitle:a,...r})=>{var o=e;return t&&(o+=`/${t}`,a&&(o+=`/${encodeURIComponent(a)}`)),{path:o,...r}})),T={default:z(((e,t)=>({path:e,...t}))),Home:$,Profile:S,Trips:N,Saves:K},L={default:Z,Home:A,Profile:J,Trips:q,Saves:Q},M=le,x=de,E=ue,O=h((e=>({viewportCategory:e.meta.device.viewportCategory})))(ce),B=W(ve),j=W(ge),H=new Set,U=h((e=>({route:e.route||{}})),{navigate:g.route.navigate})(fe),e("History$1",y=class extends i{constructor(...e){super(...e),this.popState=e=>{var t,{state:a}=e;null!=(t=a)&&t.params||(a&&a.page||(a=re(window.location.pathname+window.location.search)),a&&this.props.navigate(a,{noHistory:!0})||window.location.reload())}}componentDidMount(){window.addEventListener("popstate",this.popState);var e=window.location.hash,{lithiumRoute:t}=this.props;if(e&&!t.fragment){var a={...t,fragment:e.substring(1)};this.props.navigateLithium(a)}}componentWillUnmount(){window.removeEventListener("popstate",this.popState)}render(){return null}}),_=h(((e,t)=>{var a;return{...t,lithiumRoute:(null==(a=e.lithiumRoute)?void 0:a[0])||{}}}),{navigateLithium:g.lithiumRoute.navigate})(y),F=W(_),V={title:void 0,metaTags:[],canonicalUrl:void 0,openGraphInfo:void 0},e("HeadProperties$1",P=class extends i{constructor(...e){super(...e),this.state={isMounted:!1}}static getCurrent(){return V}componentDidMount(){this.setState({isMounted:!0})}render(){if(this.state.isMounted)this.props.title&&(document.title=this.props.title);else{if(V.title=this.props.title||V.title,this.props.metaTags){var e=V.metaTags||[];this.props.metaTags.forEach((t=>{var a=JSON.stringify(t);a in we||(we[a]=!0,e.push(t),V.metaTags=e)}))}V.canonicalUrl=this.props.canonicalUrl||V.canonicalUrl,V.openGraphInfo=this.props.openGraphInfo||V.openGraphInfo}return null}}),P.defaultProps={title:void 0,metaTags:void 0,canonicalUrl:void 0,openGraphInfo:void 0},e({Exact:j,HeadProperties:P,History:F,Link:x,Match:B,ResponsiveTargetLink:O,RouteConsumer:k,RouteContext:C,Router:U,StaticLoadableRoutes:ye,applyPredicates:be,buildUrl:ae,canNavigate:M,canNavigateBetweenPages:se,exact:he,getPreloadIds:D,isRoutable:ie,match:pe,parseUrl:re,useBeforeNavigation:Re,useLocationDetail:Pe,useRouteState:E,withRouteContext:W})},[e=>(a=e.createContext,r=e.useContext,o=e.useCallback,n=e.useState,i=e.Component,s=e.createElement,l=e.Fragment,d=e.useEffect),e=>(p=e.jsx,u=e.Fragment),e=>c=e.default,e=>v=e.default,e=>h=e.connect,e=>(g=e.actions,m=e.getStore),e=>f=e.default,e=>(w=e.Loadable,b=e.Load)]]},["1o4yt4","121h32","1uedfn","b5nukb","12mj4n","45ddp0","4axon3","bzp3n0"]]);
